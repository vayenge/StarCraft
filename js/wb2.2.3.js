(function(w){var X=w;var A={timeOut:6000,tips:{ajaxRequestError:"抱歉，请求执行出错！",ajaxOnError:"请求出错！",ajaxOnTimeOut:"请求超时！"},_cookie:{global:".163.com",sInfo:"S_INFO",pInfo:"P_INFO",nickname:"NTES_REPLY_NICKNAME"},showNameMaxLen:12,login:{regular:{userName:/^\w+([\-\+\.]*\w+)*@\w+([\-\.]\w+)*\.\w+([\-\.]\w+)*$/},url:{checkUserName:"http://t.163.com/account/passport/check"},tips:{userNameEmpty:"请输入你的网易通行证",userNameFormatError:"请输入正确的通行证，如abc@163.com",passwordEmpty:"密码不能为空"}},reg:{url:/(http)s?:\/\/(?:[\w-]+\.?)+[\.\/\?%&=#@\[\]\-+_!:*~\w-]+|(www)\.(?:[\w-]+\.?)+[\.\/\?%&=#@\[\]\-+_!:*~\w-]+/gi,keyword:/([#＃])([\u4e00-\u9fa5a-zA-Z0-9+|]{1,20})/g,user:/([@＠])([\u4e00-\u9fa5a-zA-Z0-9]{1,24})/g,reTplValues:/<#=(\w+)#>/g,showNameReg:/^[\u4e00-\u9fa5a-zA-Z0-9]+$/},url:{wbarticleCommon:"http://t.163.com/share/tweet",wbarticleCheckNickName:"http://t.163.com/share/check/nickname",wbarticleOpenAccount:"http://t.163.com/share/open/account",wbarticleFolow:"http://t.163.com/share/follow",wbarticleCheckStatus:"http://t.163.com/share/check/status",wbarticleRegister:"http://reg.163.com/reg/reg.jsp?product=t&url=http://t.163.com/&loginurl=http://t.163.com",wbarticleShare:"http://api.t.163.com/inshare",wbarticleLogin1:"http://reg.163.com/services/httpLoginExchgKeyNew",wbarticleLogin2:"http://reg.163.com/httpLoginVerifyNew.jsp",wbarticleStarList:"http://static.t.126.net/share/recommend/<#=channelId#>/article.js",wbarticleNewsList:"http://static.t.126.net/share/recommend/<#=channelId#>/articleLink.js",wbarticleOimage:"http://oimageb7.ydstatic.com/image?w=<#=width#>&h=<#=height#>&url=<#=url#>",auditlink:"http://t.163.com/page.do"},currentWindow:"",shade:"",email:""};var l={};l.commonPopWindow='<table class="wb-article-newdialogLayer-table">      <tbody>         <tr>            <td class="wb-article-newdialogLayer-top-left"></td>            <td class="wb-article-newdialogLayer-top-center"></td>            <td class="wb-article-newdialogLayer-top-right"></td>         </tr>         <tr>            <td class="wb-article-newdialogLayer-middle-left"></td>            <td class="wb-article-newdialogLayer-middle-center">               <div class="wb-article-newdialogLayer-content">                  <div class="wb-article-newdialogLayer-bd">                     <div class="wb-article-newdialogLayer-title wb-article-dragBar">                        <div class="wb-article-newtitle-icon">                           <em></em><#=title#>                        </div>                        <div class="wb-article-newclose-wraper wb-article-common-close">                           <a title="关闭" href="javascript:;" class="wb-article-newclose-icon wb-article-newdialogLayer-close "></a>                        </div>                     </div>                     <#=content#>                  </div>               </div>            </td>            <td class="wb-article-newdialogLayer-middle-right"></td>         </tr>         <tr>            <td class="wb-article-newdialogLayer-bottom-left"></td>            <td class="wb-article-newdialogLayer-bottom-center"></td>            <td class="wb-article-newdialogLayer-bottom-right"></td>         </tr>      </tbody>   </table>';l.loginForm='<div class="wb-article-popWindow-formWraper" style="width:<#=width#>px;">\u000a<div class="wb-article-popWindowhd"></div>\u000a    <div class="wb-article-popLoginSideColumn" style="width:<#=sideWidth#>px;">\u000a        <a class="wb-article-popLoginBg wb-article-popLoginRegBtn" id="<#=registerBtnNodeId#>" href="#" target="_blank"></a>\u000a    </div>\u000a    <div class="wb-article-popLoginContent" style="width:<#=formWidth#>px;">\u000a        <div class="wb-article-popLoginArea">\u000a              <table>\u000a                <tbody>\u000a                    <tr>\u000a                        <td>\u000a                            <label for="<#=userNameNodeId#>" class="wb-article-popLoginLb">\u000a                                帐号：</label>\u000a                        </td>\u000a                        <td>\u000a  <div class="wb-article-input-wraper"><input type="text" autocomplete="off" class="wb-article-popLogin-inputField" name="<#=userNameNodeId#>" value="<#=email#>" id="<#=userNameNodeId#>">\u000a <input class="wb-article-login-area-hint" type="input" id="wb-article-login-area-hint" value="如 name@example.com" /></div></td>\u000a                        <td>\u000a                        </td>\u000a                    </tr>\u000a                    <tr>\u000a                        <td>\u000a                            <label class="wb-article-popLoginLb" for="<#=passwordNodeId#>">\u000a                                密码：</label>\u000a                        </td>\u000a                        <td>\u000a                            <input type="password" class="wb-article-popLogin-inputField" name="<#=passwordNodeId#>" id="<#=passwordNodeId#>">\u000a                        </td>\u000a                        <td>\u000a                        </td>\u000a                    </tr>\u000a                    <tr>\u000a                        <td>\u000a                        </td>\u000a                        <td>\u000a   <span  class="wb-article-popLogin-remmber-chk" id="wb-article-popLogin-remmber-chk" >   <input type="checkbox"  name="<#=saveLoginNodeId#>" id="<#=saveLoginNodeId#>">下次自动登录<div class="wb-article-login-tiparea wb-article-autologin-tiparea" id="wb-article-autologin_tiparea">\u000a    <div class="wb-article-login-tiparea-top wb-article-arrowup-red">\u000a    </div>\u000a    <a title="关闭" onclick="$(\'#wb-article-autologin_tiparea\').addCss(\'visibility:hidden\')" href="javascript:;"\u000a        class="wb-article-login-tiparea-close"></a>\u000a    <p>\u000a        为了您的信息安全，请不要在网吧或公用电脑上使用此功能！</p>\u000a</div></span> <a class="wb-article-popLogin-remmber"\u000a                                target="_blank" href="http://reg.163.com/RecoverPasswd1.shtml">忘记密码?</a>\u000a                        </td>\u000a                        <td>\u000a                        </td>\u000a                    </tr>\u000a                    <tr>\u000a                        <td>\u000a                        </td>\u000a                        <td>\u000a                            <a class="wb-article-btnbg wb-article-commonbtn" target="_self" id="<#=btnNodeId#>" href="javascript:;"><em class="wb-article-btnbg">\u000a                                <#=btnText#> </em></a><span class="wb-article-popLogin-error" id="<#=errorNodeId#>"></span><span id="<#=proccessingNodeId#>"></span>\u000a                        </td>\u000a                        <td>\u000a                        </td>\u000a                    </tr>\u000a                </tbody>\u000a            </table>\u000a        </div>\u000a    </div>\u000a    <div class="wb-article-popWindowft"></div>\u000a</div>';l.openForm='<div class="wb-article-popWindow-formWraper" style="width:<#=width#>px;">\u000a<div class="wb-article-popWindowhd"></div>\u000a    <div class="wb-article-popLoginContent" style="width:auto;border-width:0;">\u000a        <div class="wb-article-popLoginArea">\u000a               <table>\u000a                <tbody>\u000a                    <tr>\u000a                        <td colspan="3">\u000a                            <div class="wb-article-popLogin-reminder">\u000a                                <span>检测到您已经登录网易通行证：</span><em><#=email#></em><a href="javascript:;" target="_self" style="color:#1E50A2" id="<#=changeAccountNodeId#>"> 换个帐号？</a>\u000a                            </div>\u000a                        </td>\u000a                    </tr>\u000a                                        <tr>\u000a                        <td colspan="3">\u000a                            <div class="wb-article-popLogin-reminder">\u000a                                <span>给自己起个昵称，快速开通微博</span>\u000a                            </div>\u000a                        </td>\u000a                    </tr>\u000a                    <tr>\u000a                        <td>\u000a                            <label for="<#=userNameNodeId#>" class="wb-article-popLoginLb">\u000a                                昵 称：</label>\u000a                        </td>\u000a                        <td>\u000a                            <input type="text" class="wb-article-popLogin-inputField" name="<#=userNameNodeId#>" id="<#=userNameNodeId#>"><span style="color:#999"> 可以包含汉字、字母和数字，限制12个汉字<span>\u000a                        </td>\u000a                    </tr>\u000a                    <tr>\u000a                        <td>\u000a                        </td>\u000a                        <td>\u000a                            <a class="wb-article-btnbg wb-article-commonbtn" target="_self" id="<#=btnNodeId#>" href="javascript:;"><em class="wb-article-btnbg">\u000a                                <#=btnText#> </em></a><span class="wb-article-popLogin-error" id="<#=errorNodeId#>"></span><span id="<#=proccessingNodeId#>"></span>\u000a                        </td>\u000a                        <td>\u000a                        </td>\u000a                    </tr>\u000a                </tbody>\u000a            </table>\u000a        </div>\u000a    </div>\u000a    <div class="wb-article-popWindowft"></div>\u000a</div>';l.sendBoxWin='<div style="width:<#=width#>px;background-color:#fff;overflow:hidden;margin:5px 0" >\u000a            <div class="wb-article-item">\u000a              <textarea class="wb-article-popup-textarea" style="width:<#=boxWidth#>px;"></textarea>\u000a            </div>\u000a            <div class="wb-article-fr wb-article-clearfix">\u000a              <span class="send-info-tips hidden" ></span>\u000a              <span  class="wb-article-popup-note">\u000a                还可输<span  class="wb-article-char-constantia">163</span>字\u000a              </span>\u000a              <a title="按Ctrl+Enter键发微博" onclick="this.blur();" href="javascript:;" target="_self" class="wb-article-popup-sendinfo-btn" >\u000a                <em> <#=btnText#></em>\u000a              </a>\u000a            </div>\u000a </div>';l.sendInfoTip='<#=note#><span class="wb-article-char-constantia" style="color:<#=color#>"><#=countnum#></span> 字';(function(){var bd="0123456789abcdef";function bs(bY){str="";for(j=0;j<=3;j++){str+=bd.charAt((bY>>(j*8+4))&15)+bd.charAt((bY>>(j*8))&15)}return str}function aZ(bY){nblk=((bY.length+8)>>6)+1;blks=new Array(nblk*16);for(i=0;i<nblk*16;i++){blks[i]=0}for(i=0;i<bY.length;i++){blks[i>>2]|=bY.charCodeAt(i)<<((i%4)*8)}blks[i>>2]|=128<<((i%4)*8);blks[nblk*16-2]=bY.length*8;return blks}function aP(bY,b1){var b0=(bY&65535)+(b1&65535);var bZ=(bY>>16)+(b1>>16)+(b0>>16);return(bZ<<16)|(b0&65535)}function bE(bY,bZ){return(bY<<bZ)|(bY>>>(32-bZ))}function bm(b3,b0,bZ,bY,b2,b1){return aP(bE(aP(aP(b0,b3),aP(bY,b1)),b2),bZ)}function bO(b0,bZ,b4,b3,bY,b2,b1){return bm((bZ&b4)|((~bZ)&b3),b0,bZ,bY,b2,b1)}function bw(b0,bZ,b4,b3,bY,b2,b1){return bm((bZ&b3)|(b4&(~b3)),b0,bZ,bY,b2,b1)}function bh(b0,bZ,b4,b3,bY,b2,b1){return bm(bZ^b4^b3,b0,bZ,bY,b2,b1)}function a8(b0,bZ,b4,b3,bY,b2,b1){return bm(b4^(bZ|(~b3)),b0,bZ,bY,b2,b1)}function bR(bY){x=aZ(bY);a=1732584193;b=-271733879;c=-1732584194;d=271733878;for(i=0;i<x.length;i+=16){olda=a;oldb=b;oldc=c;oldd=d;a=bO(a,b,c,d,x[i+0],7,-680876936);d=bO(d,a,b,c,x[i+1],12,-389564586);c=bO(c,d,a,b,x[i+2],17,606105819);b=bO(b,c,d,a,x[i+3],22,-1044525330);a=bO(a,b,c,d,x[i+4],7,-176418897);d=bO(d,a,b,c,x[i+5],12,1200080426);c=bO(c,d,a,b,x[i+6],17,-1473231341);b=bO(b,c,d,a,x[i+7],22,-45705983);a=bO(a,b,c,d,x[i+8],7,1770035416);d=bO(d,a,b,c,x[i+9],12,-1958414417);c=bO(c,d,a,b,x[i+10],17,-42063);b=bO(b,c,d,a,x[i+11],22,-1990404162);a=bO(a,b,c,d,x[i+12],7,1804603682);d=bO(d,a,b,c,x[i+13],12,-40341101);c=bO(c,d,a,b,x[i+14],17,-1502002290);b=bO(b,c,d,a,x[i+15],22,1236535329);a=bw(a,b,c,d,x[i+1],5,-165796510);d=bw(d,a,b,c,x[i+6],9,-1069501632);c=bw(c,d,a,b,x[i+11],14,643717713);b=bw(b,c,d,a,x[i+0],20,-373897302);a=bw(a,b,c,d,x[i+5],5,-701558691);d=bw(d,a,b,c,x[i+10],9,38016083);c=bw(c,d,a,b,x[i+15],14,-660478335);b=bw(b,c,d,a,x[i+4],20,-405537848);a=bw(a,b,c,d,x[i+9],5,568446438);d=bw(d,a,b,c,x[i+14],9,-1019803690);c=bw(c,d,a,b,x[i+3],14,-187363961);b=bw(b,c,d,a,x[i+8],20,1163531501);a=bw(a,b,c,d,x[i+13],5,-1444681467);d=bw(d,a,b,c,x[i+2],9,-51403784);c=bw(c,d,a,b,x[i+7],14,1735328473);b=bw(b,c,d,a,x[i+12],20,-1926607734);a=bh(a,b,c,d,x[i+5],4,-378558);d=bh(d,a,b,c,x[i+8],11,-2022574463);c=bh(c,d,a,b,x[i+11],16,1839030562);b=bh(b,c,d,a,x[i+14],23,-35309556);a=bh(a,b,c,d,x[i+1],4,-1530992060);d=bh(d,a,b,c,x[i+4],11,1272893353);c=bh(c,d,a,b,x[i+7],16,-155497632);b=bh(b,c,d,a,x[i+10],23,-1094730640);a=bh(a,b,c,d,x[i+13],4,681279174);d=bh(d,a,b,c,x[i+0],11,-358537222);c=bh(c,d,a,b,x[i+3],16,-722521979);b=bh(b,c,d,a,x[i+6],23,76029189);a=bh(a,b,c,d,x[i+9],4,-640364487);d=bh(d,a,b,c,x[i+12],11,-421815835);c=bh(c,d,a,b,x[i+15],16,530742520);b=bh(b,c,d,a,x[i+2],23,-995338651);a=a8(a,b,c,d,x[i+0],6,-198630844);d=a8(d,a,b,c,x[i+7],10,1126891415);c=a8(c,d,a,b,x[i+14],15,-1416354905);b=a8(b,c,d,a,x[i+5],21,-57434055);a=a8(a,b,c,d,x[i+12],6,1700485571);d=a8(d,a,b,c,x[i+3],10,-1894986606);c=a8(c,d,a,b,x[i+10],15,-1051523);b=a8(b,c,d,a,x[i+1],21,-2054922799);a=a8(a,b,c,d,x[i+8],6,1873313359);d=a8(d,a,b,c,x[i+15],10,-30611744);c=a8(c,d,a,b,x[i+6],15,-1560198380);b=a8(b,c,d,a,x[i+13],21,1309151649);a=a8(a,b,c,d,x[i+4],6,-145523070);d=a8(d,a,b,c,x[i+11],10,-1120210379);c=a8(c,d,a,b,x[i+2],15,718787259);b=a8(b,c,d,a,x[i+9],21,-343485551);a=aP(a,olda);b=aP(b,oldb);c=aP(c,oldc);d=aP(d,oldd)}return bs(a)+bs(b)+bs(c)+bs(d)}var bk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function bz(b4){var b0,b2,bY;var b3,b1,bZ;bY=b4.length;b2=0;b0="";while(b2<bY){b3=b4.charCodeAt(b2++)&255;if(b2==bY){b0+=bk.charAt(b3>>2);b0+=bk.charAt((b3&3)<<4);b0+="==";break}b1=b4.charCodeAt(b2++);if(b2==bY){b0+=bk.charAt(b3>>2);b0+=bk.charAt(((b3&3)<<4)|((b1&240)>>4));b0+=bk.charAt((b1&15)<<2);b0+="=";break}bZ=b4.charCodeAt(b2++);b0+=bk.charAt(b3>>2);b0+=bk.charAt(((b3&3)<<4)|((b1&240)>>4));b0+=bk.charAt(((b1&15)<<2)|((bZ&192)>>6));b0+=bk.charAt(bZ&63)}return b0}function aw(b1){var bZ,b0,bY,b2;bZ="";bY=b1.length;for(b0=0;b0<bY;b0++){b2=b1.charCodeAt(b0);if((b2>=1)&&(b2<=127)){bZ+=b1.charAt(b0)}else{if(b2>2047){bZ+=String.fromCharCode(224|((b2>>12)&15));bZ+=String.fromCharCode(128|((b2>>6)&63));bZ+=String.fromCharCode(128|((b2>>0)&63))}else{bZ+=String.fromCharCode(192|((b2>>6)&31));bZ+=String.fromCharCode(128|((b2>>0)&63))}}}return bZ}function aP(bY,bZ){return((bY&2147483647)+(bZ&2147483647))^(bY&2147483648)^(bZ&2147483648)}function aJ(bZ){var b0="0123456789abcdef";var b1="";for(var bY=7;bY>=0;bY--){b1+=b0.charAt((bZ>>(bY*4))&15)}return b1}function bl(b0){var bY=((b0.length+8)>>6)+1,b1=new Array(bY*16);for(var bZ=0;bZ<bY*16;bZ++){b1[bZ]=0}for(bZ=0;bZ<b0.length;bZ++){b1[bZ>>2]|=b0.charCodeAt(bZ)<<(24-(bZ&3)*8)}b1[bZ>>2]|=128<<(24-(bZ&3)*8);b1[bY*16-1]=b0.length*8;return b1}function bE(bY,bZ){return(bY<<bZ)|(bY>>>(32-bZ))}function bD(bZ,bY,b1,b0){if(bZ<20){return(bY&b1)|((~bY)&b0)}if(bZ<40){return bY^b1^b0}if(bZ<60){return(bY&b1)|(bY&b0)|(b1&b0)}return bY^b1^b0}function az(bY){return(bY<20)?1518500249:(bY<40)?1859775393:(bY<60)?-1894007588:-899497514}function aF(cb){var ca=bl(cb);var cc=new Array(80);var b9=1732584193;var b8=-271733879;var b7=-1732584194;var b6=271733878;var b5=-1009589776;for(var b2=0;b2<ca.length;b2+=16){var b4=b9;var b3=b8;var b1=b7;var b0=b6;var bY=b5;for(var bZ=0;bZ<80;bZ++){if(bZ<16){cc[bZ]=ca[b2+bZ]}else{cc[bZ]=bE(cc[bZ-3]^cc[bZ-8]^cc[bZ-14]^cc[bZ-16],1)}a5=aP(aP(bE(b9,5),bD(bZ,b8,b7,b6)),aP(aP(b5,cc[bZ]),az(bZ)));b5=b6;b6=b7;b7=bE(b8,30);b8=b9;b9=a5}b9=aP(b9,b4);b8=aP(b8,b3);b7=aP(b7,b1);b6=aP(b6,b0);b5=aP(b5,bY)}SHA1Value=aJ(b9)+aJ(b8)+aJ(b7)+aJ(b6)+aJ(b5);return SHA1Value}window.getMd5=bR;window.SHA1=aF;window.BASE64=bz;window.utf16to8=aw;var bU;var bF=244837814094590;var br=((bF&16777215)==15715070);function bP(bZ,bY,b0){if(bZ!=null){if("number"==typeof bZ){this.fromNumber(bZ,bY,b0)}else{if(bY==null&&"string"!=typeof bZ){this.fromString(bZ,256)}else{this.fromString(bZ,bY)}}}}function aC(){return new bP(null)}function au(b2,bY,bZ,b1,b4,b3){while(--b3>=0){var b0=bY*this[b2++]+bZ[b1]+b4;b4=Math.floor(b0/67108864);bZ[b1++]=b0&67108863}return b4}function bW(b2,b7,b8,b1,b5,bY){var b4=b7&32767,b6=b7>>15;while(--bY>=0){var b0=this[b2]&32767;var b3=this[b2++]>>15;var bZ=b6*b0+b3*b4;b0=b4*b0+((bZ&32767)<<15)+b8[b1]+(b5&1073741823);b5=(b0>>>30)+(bZ>>>15)+b6*b3+(b5>>>30);b8[b1++]=b0&1073741823}return b5}function bV(b2,b7,b8,b1,b5,bY){var b4=b7&16383,b6=b7>>14;while(--bY>=0){var b0=this[b2]&16383;var b3=this[b2++]>>14;var bZ=b6*b0+b3*b4;b0=b4*b0+((bZ&16383)<<14)+b8[b1]+b5;b5=(b0>>28)+(bZ>>14)+b6*b3;b8[b1++]=b0&268435455}return b5}if(br&&(navigator.appName=="Microsoft Internet Explorer")){bP.prototype.am=bW;bU=30}else{if(br&&(navigator.appName!="Netscape")){bP.prototype.am=au;bU=26}else{bP.prototype.am=bV;bU=28}}bP.prototype.DB=bU;bP.prototype.DM=((1<<bU)-1);bP.prototype.DV=(1<<bU);var bt=52;bP.prototype.FV=Math.pow(2,bt);bP.prototype.F1=bt-bU;bP.prototype.F2=2*bU-bt;var by="0123456789abcdefghijklmnopqrstuvwxyz";var bC=new Array();var bM,aS;bM="0".charCodeAt(0);for(aS=0;aS<=9;++aS){bC[bM++]=aS}bM="a".charCodeAt(0);for(aS=10;aS<36;++aS){bC[bM++]=aS}bM="A".charCodeAt(0);for(aS=10;aS<36;++aS){bC[bM++]=aS}function bX(bY){return by.charAt(bY)}function aW(bZ,bY){var b0=bC[bZ.charCodeAt(bY)];return(b0==null)?-1:b0}function bq(bZ){for(var bY=this.t-1;bY>=0;--bY){bZ[bY]=this[bY]}bZ.t=this.t;bZ.s=this.s}function aK(bY){this.t=1;this.s=(bY<0)?-1:0;if(bY>0){this[0]=bY}else{if(bY<-1){this[0]=bY+DV}else{this.t=0}}}function ax(bY){var bZ=aC();bZ.fromInt(bY);return bZ}function aT(b4,bZ){var b1;if(bZ==16){b1=4}else{if(bZ==8){b1=3}else{if(bZ==256){b1=8}else{if(bZ==2){b1=1}else{if(bZ==32){b1=5}else{if(bZ==4){b1=2}else{this.fromRadix(b4,bZ);return}}}}}}this.t=0;this.s=0;var b3=b4.length,b0=false,b2=0;while(--b3>=0){var bY=(b1==8)?b4[b3]&255:aW(b4,b3);if(bY<0){if(b4.charAt(b3)=="-"){b0=true}continue}b0=false;if(b2==0){this[this.t++]=bY}else{if(b2+b1>this.DB){this[this.t-1]|=(bY&((1<<(this.DB-b2))-1))<<b2;this[this.t++]=(bY>>(this.DB-b2))}else{this[this.t-1]|=bY<<b2}}b2+=b1;if(b2>=this.DB){b2-=this.DB}}if(b1==8&&(b4[0]&128)!=0){this.s=-1;if(b2>0){this[this.t-1]|=((1<<(this.DB-b2))-1)<<b2}}this.clamp();if(b0){bP.ZERO.subTo(this,this)}}function bc(){var bY=this.s&this.DM;while(this.t>0&&this[this.t-1]==bY){--this.t}}function aO(bZ){if(this.s<0){return"-"+this.negate().toString(bZ)}var b0;if(bZ==16){b0=4}else{if(bZ==8){b0=3}else{if(bZ==2){b0=1}else{if(bZ==32){b0=5}else{if(bZ==4){b0=2}else{return this.toRadix(bZ)}}}}}var b2=(1<<b0)-1,b5,bY=false,b3="",b1=this.t;var b4=this.DB-(b1*this.DB)%b0;if(b1-->0){if(b4<this.DB&&(b5=this[b1]>>b4)>0){bY=true;b3=bX(b5)}while(b1>=0){if(b4<b0){b5=(this[b1]&((1<<b4)-1))<<(b0-b4);b5|=this[--b1]>>(b4+=this.DB-b0)}else{b5=(this[b1]>>(b4-=b0))&b2;if(b4<=0){b4+=this.DB;--b1}}if(b5>0){bY=true}if(bY){b3+=bX(b5)}}}return bY?b3:"0"}function bg(){var bY=aC();bP.ZERO.subTo(this,bY);return bY}function bI(){return(this.s<0)?this.negate():this}function a3(bY){var b0=this.s-bY.s;if(b0!=0){return b0}var bZ=this.t;b0=bZ-bY.t;if(b0!=0){return(this.s<0)?-b0:b0}while(--bZ>=0){if((b0=this[bZ]-bY[bZ])!=0){return b0}}return 0}function aE(bY){var b0=1,bZ;if((bZ=bY>>>16)!=0){bY=bZ;b0+=16}if((bZ=bY>>8)!=0){bY=bZ;b0+=8}if((bZ=bY>>4)!=0){bY=bZ;b0+=4}if((bZ=bY>>2)!=0){bY=bZ;b0+=2}if((bZ=bY>>1)!=0){bY=bZ;b0+=1}return b0}function aR(){if(this.t<=0){return 0}return this.DB*(this.t-1)+aE(this[this.t-1]^(this.s&this.DM))}function bN(b0,bZ){var bY;for(bY=this.t-1;bY>=0;--bY){bZ[bY+b0]=this[bY]}for(bY=b0-1;bY>=0;--bY){bZ[bY]=0}bZ.t=this.t+b0;bZ.s=this.s}function bp(b0,bZ){for(var bY=b0;bY<this.t;++bY){bZ[bY-b0]=this[bY]}bZ.t=Math.max(this.t-b0,0);bZ.s=this.s}function aQ(b5,b1){var bZ=b5%this.DB;var bY=this.DB-bZ;var b3=(1<<bY)-1;var b2=Math.floor(b5/this.DB),b4=(this.s<<bZ)&this.DM,b0;for(b0=this.t-1;b0>=0;--b0){b1[b0+b2+1]=(this[b0]>>bY)|b4;b4=(this[b0]&b3)<<bZ}for(b0=b2-1;b0>=0;--b0){b1[b0]=0}b1[b2]=b4;b1.t=this.t+b2+1;b1.s=this.s;b1.clamp()}function aH(b4,b1){b1.s=this.s;var b2=Math.floor(b4/this.DB);if(b2>=this.t){b1.t=0;return}var bZ=b4%this.DB;var bY=this.DB-bZ;var b3=(1<<bZ)-1;b1[0]=this[b2]>>bZ;for(var b0=b2+1;b0<this.t;++b0){b1[b0-b2-1]|=(this[b0]&b3)<<bY;b1[b0-b2]=this[b0]>>bZ}if(bZ>0){b1[this.t-b2-1]|=(this.s&b3)<<bY}b1.t=this.t-b2;b1.clamp()}function bu(bZ,b1){var b0=0,b2=0,bY=Math.min(bZ.t,this.t);while(b0<bY){b2+=this[b0]-bZ[b0];b1[b0++]=b2&this.DM;b2>>=this.DB}if(bZ.t<this.t){b2-=bZ.s;while(b0<this.t){b2+=this[b0];b1[b0++]=b2&this.DM;b2>>=this.DB}b2+=this.s}else{b2+=this.s;while(b0<bZ.t){b2-=bZ[b0];b1[b0++]=b2&this.DM;b2>>=this.DB}b2-=bZ.s}b1.s=(b2<0)?-1:0;if(b2<-1){b1[b0++]=this.DV+b2}else{if(b2>0){b1[b0++]=b2}}b1.t=b0;b1.clamp()}function a0(bZ,b1){var bY=this.abs(),b2=bZ.abs();var b0=bY.t;b1.t=b0+b2.t;while(--b0>=0){b1[b0]=0}for(b0=0;b0<b2.t;++b0){b1[b0+bY.t]=bY.am(0,b2[b0],b1,b0,0,bY.t)}b1.s=0;b1.clamp();if(this.s!=bZ.s){bP.ZERO.subTo(b1,b1)}}function bf(b0){var bY=this.abs();var bZ=b0.t=2*bY.t;while(--bZ>=0){b0[bZ]=0}for(bZ=0;bZ<bY.t-1;++bZ){var b1=bY.am(bZ,bY[bZ],b0,2*bZ,0,1);if((b0[bZ+bY.t]+=bY.am(bZ+1,2*bY[bZ],b0,2*bZ+1,b1,bY.t-bZ-1))>=bY.DV){b0[bZ+bY.t]-=bY.DV;b0[bZ+bY.t+1]=1}}if(b0.t>0){b0[b0.t-1]+=bY.am(bZ,bY[bZ],b0,2*bZ,0,1)}b0.s=0;b0.clamp()}function a1(b7,b4,b3){var cd=b7.abs();if(cd.t<=0){return}var b5=this.abs();if(b5.t<cd.t){if(b4!=null){b4.fromInt(0)}if(b3!=null){this.copyTo(b3)}return}if(b3==null){b3=aC()}var b1=aC(),bY=this.s,b6=b7.s;var cc=this.DB-aE(cd[cd.t-1]);if(cc>0){cd.lShiftTo(cc,b1);b5.lShiftTo(cc,b3)}else{cd.copyTo(b1);b5.copyTo(b3)}var b9=b1.t;var bZ=b1[b9-1];if(bZ==0){return}var b8=bZ*(1<<this.F1)+((b9>1)?b1[b9-2]>>this.F2:0);var cg=this.FV/b8,cf=(1<<this.F1)/b8,ce=1<<this.F2;var cb=b3.t,ca=cb-b9,b2=(b4==null)?aC():b4;b1.dlShiftTo(ca,b2);if(b3.compareTo(b2)>=0){b3[b3.t++]=1;b3.subTo(b2,b3)}bP.ONE.dlShiftTo(b9,b2);b2.subTo(b1,b1);while(b1.t<b9){b1[b1.t++]=0}while(--ca>=0){var b0=(b3[--cb]==bZ)?this.DM:Math.floor(b3[cb]*cg+(b3[cb-1]+ce)*cf);if((b3[cb]+=b1.am(0,b0,b3,ca,0,b9))<b0){b1.dlShiftTo(ca,b2);b3.subTo(b2,b3);while(b3[cb]<--b0){b3.subTo(b2,b3)}}}if(b4!=null){b3.drShiftTo(b9,b4);if(bY!=b6){bP.ZERO.subTo(b4,b4)}}b3.t=b9;b3.clamp();if(cc>0){b3.rShiftTo(cc,b3)}if(bY<0){bP.ZERO.subTo(b3,b3)}}function bb(bY){var bZ=aC();this.abs().divRemTo(bY,null,bZ);if(this.s<0&&bZ.compareTo(bP.ZERO)>0){bY.subTo(bZ,bZ)}return bZ}function a7(bY){this.m=bY}function bn(bY){if(bY.s<0||bY.compareTo(this.m)>=0){return bY.mod(this.m)}else{return bY}}function bH(bY){return bY}function a6(bY){bY.divRemTo(this.m,null,bY)}function a4(bY,b0,bZ){bY.multiplyTo(b0,bZ);this.reduce(bZ)}function bS(bY,bZ){bY.squareTo(bZ);this.reduce(bZ)}a7.prototype.convert=bn;a7.prototype.revert=bH;a7.prototype.reduce=a6;a7.prototype.mulTo=a4;a7.prototype.sqrTo=bS;function aX(){if(this.t<1){return 0}var bY=this[0];if((bY&1)==0){return 0}var bZ=bY&3;bZ=(bZ*(2-(bY&15)*bZ))&15;bZ=(bZ*(2-(bY&255)*bZ))&255;bZ=(bZ*(2-(((bY&65535)*bZ)&65535)))&65535;bZ=(bZ*(2-bY*bZ%this.DV))%this.DV;return(bZ>0)?this.DV-bZ:-bZ}function aA(bY){this.m=bY;this.mp=bY.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<(bY.DB-15))-1;this.mt2=2*bY.t}function bG(bY){var bZ=aC();bY.abs().dlShiftTo(this.m.t,bZ);bZ.divRemTo(this.m,null,bZ);if(bY.s<0&&bZ.compareTo(bP.ZERO)>0){this.m.subTo(bZ,bZ)}return bZ}function bQ(bY){var bZ=aC();bY.copyTo(bZ);this.reduce(bZ);return bZ}function be(bY){while(bY.t<=this.mt2){bY[bY.t++]=0}for(var b0=0;b0<this.m.t;++b0){var bZ=bY[b0]&32767;var b1=(bZ*this.mpl+(((bZ*this.mph+(bY[b0]>>15)*this.mpl)&this.um)<<15))&bY.DM;bZ=b0+this.m.t;bY[bZ]+=this.m.am(0,b1,bY,b0,0,this.m.t);while(bY[bZ]>=bY.DV){bY[bZ]-=bY.DV;bY[++bZ]++}}bY.clamp();bY.drShiftTo(this.m.t,bY);if(bY.compareTo(this.m)>=0){bY.subTo(this.m,bY)}}function bJ(bY,bZ){bY.squareTo(bZ);this.reduce(bZ)}function aV(bY,b0,bZ){bY.multiplyTo(b0,bZ);this.reduce(bZ)}aA.prototype.convert=bG;aA.prototype.revert=bQ;aA.prototype.reduce=be;aA.prototype.mulTo=aV;aA.prototype.sqrTo=bJ;function aD(){return((this.t>0)?(this[0]&1):this.s)==0}function aU(b3,b4){if(b3>4294967295||b3<1){return bP.ONE}var b2=aC(),bY=aC(),b1=b4.convert(this),b0=aE(b3)-1;b1.copyTo(b2);while(--b0>=0){b4.sqrTo(b2,bY);if((b3&(1<<b0))>0){b4.mulTo(bY,b1,b2)}else{var bZ=b2;b2=bY;bY=bZ}}return b4.revert(b2)}function bK(bZ,bY){var b0;if(bZ<256||bY.isEven()){b0=new a7(bY)}else{b0=new aA(bY)}return this.exp(bZ,b0)}bP.prototype.copyTo=bq;bP.prototype.fromInt=aK;bP.prototype.fromString=aT;bP.prototype.clamp=bc;bP.prototype.dlShiftTo=bN;bP.prototype.drShiftTo=bp;bP.prototype.lShiftTo=aQ;bP.prototype.rShiftTo=aH;bP.prototype.subTo=bu;bP.prototype.multiplyTo=a0;bP.prototype.squareTo=bf;bP.prototype.divRemTo=a1;bP.prototype.invDigit=aX;bP.prototype.isEven=aD;bP.prototype.exp=aU;bP.prototype.toString=aO;bP.prototype.negate=bg;bP.prototype.abs=bI;bP.prototype.compareTo=a3;bP.prototype.bitLength=aR;bP.prototype.mod=bb;bP.prototype.modPowInt=bK;bP.ZERO=ax(0);bP.ONE=ax(1);function aG(){this.i=0;this.j=0;this.S=new Array()}function ay(b1){var b0,bY,bZ;for(b0=0;b0<256;++b0){this.S[b0]=b0}bY=0;for(b0=0;b0<256;++b0){bY=(bY+this.S[b0]+b1[b0%b1.length])&255;bZ=this.S[b0];this.S[b0]=this.S[bY];this.S[bY]=bZ}this.i=0;this.j=0}function at(){var bY;this.i=(this.i+1)&255;this.j=(this.j+this.S[this.i])&255;bY=this.S[this.i];this.S[this.i]=this.S[this.j];this.S[this.j]=bY;return this.S[(bY+this.S[this.i])&255]}aG.prototype.init=ay;aG.prototype.next=at;function bL(){return new aG()}var ba=256;var aI;var bj;var bv;function av(bY){bj[bv++]^=bY&255;bj[bv++]^=(bY>>8)&255;bj[bv++]^=(bY>>16)&255;bj[bv++]^=(bY>>24)&255;if(bv>=ba){bv-=ba}}function bi(){av(new Date().getTime())}if(bj==null){bj=new Array();bv=0;var a5;if(navigator.appName=="Netscape"&&navigator.appVersion<"5"&&window.crypto){if(window.crypto.random){var a2=window.crypto.random(32);for(a5=0;a5<a2.length;++a5){bj[bv++]=a2.charCodeAt(a5)&255}}}while(bv<ba){a5=Math.floor(65536*Math.random());bj[bv++]=a5>>>8;bj[bv++]=a5&255}bv=0;bi()}function aY(){if(aI==null){bi();aI=bL();aI.init(bj);for(bv=0;bv<bj.length;++bv){bj[bv]=0}bv=0}return aI.next()}function bT(bZ){var bY;for(bY=0;bY<bZ.length;++bY){bZ[bY]=aY()}}function bx(){}bx.prototype.nextBytes=bT;function aB(bZ,bY){return new bP(bZ,bY)}function bB(b0,b1){var bY="";var bZ=0;while(bZ+b1<b0.length){bY+=b0.substring(bZ,bZ+b1)+"\n";bZ+=b1}return bY+b0.substring(bZ,b0.length)}function aN(bY){if(bY<16){return"0"+bY.toString(16)}else{return bY.toString(16)}}function bA(b1,b4){if(b4<b1.length+11){alert("Message too long for RSA");return null}var b3=new Array();var b0=b1.length-1;while(b0>=0&&b4>0){var b2=b1.charCodeAt(b0--);if(b2<128){b3[--b4]=b2}else{if((b2>127)&&(b2<2048)){b3[--b4]=(b2&63)|128;b3[--b4]=(b2>>6)|192}else{b3[--b4]=(b2&63)|128;b3[--b4]=((b2>>6)&63)|128;b3[--b4]=(b2>>12)|224}}}b3[--b4]=0;var bZ=new bx();var bY=new Array();while(b4>2){bY[0]=0;while(bY[0]==0){bZ.nextBytes(bY)}b3[--b4]=bY[0]}b3[--b4]=2;b3[--b4]=0;return new bP(b3)}function a9(){this.n=null;this.e=0;this.d=null;this.p=null;this.q=null;this.dmp1=null;this.dmq1=null;this.coeff=null}function aL(bZ,bY){if(bZ!=null&&bY!=null&&bZ.length>0&&bY.length>0){this.n=aB(bZ,16);this.e=parseInt(bY,16)}else{alert("Invalid RSA public key")}}function bo(bY){return bY.modPowInt(this.e,this.n)}function aM(b0){var bY=bA(b0,(this.n.bitLength()+7)>>3);if(bY==null){return null}var b1=this.doPublic(bY);if(b1==null){return null}var bZ=b1.toString(16);if((bZ.length&1)==0){return bZ}else{return"0"+bZ}}a9.prototype.doPublic=bo;a9.prototype.setPublic=aL;a9.prototype.encrypt=aM;window.RSAKey=a9})();window.setLoginStatus=function(at){window.loginStatus=at};function ar(au){var at=au,av=false;at.id="wb-article-shade";if(typeof Settingpage!="undefined"&&X.browser.msie&&X.browser.version<7){at.innerHTML="<iframe style='position:absolute;width:100%;height:100%;_filter:alpha(opacity=0);opacity=0;border:1px solid #DDD;z-index:-1;top:100;left:0;'></iframe>"}this.show=function(){var aw=this;aw._setposEvent=null;if(!av){at.style.width=window.screen.width+"px";at.style.height=window.screen.height+"px";at.style.top="0px";if(X.browser.msie&&X.browser.version<7){var ax=function(){aw.IE6Position()};aw.IE6Position();aw._setposEvent&&window.removeEvent("scroll",ax);aw._setposEvent=window.addEvent("scroll",ax)}at.style.display="block";av=true}};this.IE6Position=function(){var aw=Math.max(document.documentElement.scrollHeight,document.documentElement.clientHeight);at.style.width=Math.max(document.documentElement.scrollWidth,document.documentElement.clientWidth)+"px";at.style.position="absolute";at.style.height=Math.min(aw,3000)+"px";at.style.top=Math.min(Math.max((aw-3000),0),Math.max((document.documentElement.scrollTop-3000)+window.screen.availHeight,0))+"px"};this.hide=function(){if(av){at.style.display="none";av=false}}}X.ui.DragHandler=function(ax,aA){this.constructor=arguments.callee;var av=X.style.getCurrentStyle(ax,"position").toLowerCase()==="fixed",aD={x:ax.offsetLeft||0-(av?X(document.body).scrollLeft:0),y:ax.offsetTop||0-(av?X(document.body).scrollTop:0)},aB,at,aw,az;function ay(aF){var aE={x:Math.max(0,Math.min(document.documentElement.scrollWidth-ax.offsetWidth,aF.pageX-aB.x)),y:Math.max(0,Math.min(document.documentElement.scrollHeight-ax.offsetHeight,aF.pageY-aB.y))};ax.style.left=aE.x+"px";ax.style.top=aE.y+"px";aD={x:aE.x-(av?X(document.body).scrollLeft:0),y:aE.y-(av?X(document.body).scrollTop:0)};aw&&aw(ax,this,aE);aF.cancelBubble=true}function au(){if(ax.releaseCapture){ax.releaseCapture()}else{if(window.captureEvents){window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP)}}X(document.body).removeEvent("mousemove",ay);X(document.body).removeEvent("mouseup",au);az&&az(ax)}function aC(aE){if(ax.setCapture){ax.setCapture()}else{if(window.captureEvents){window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP)}}aB={x:aE.pageX-ax.offsetLeft,y:aE.pageY-ax.offsetTop};X(document.body).addEvent("mousemove",ay);X(document.body).addEvent("mouseup",au);at&&at(ax,this);aE.preventDefault()}this.setOnDragStart=function(aE){at=aE};this.setOnMove=function(aE){onMove=aE};this.setOnStopMove=function(aE){onStopMove=aE};this.init=function(){X.event.addEvent(aA,"mousedown",aC)}};X.ui.WinLayer=function(ay,av,ax,au,at){if(!arguments.length){return}var aw=this;aw.constructor=arguments.callee;aw._wrapper=ay;aw._showType=ax||"display";aw._showTypeObject={display:{show:"block",hidden:"none"},visibility:{show:"visible",hidden:"hidden"}};aw._isDeleteNode=au||false;aw._isShowed=X.style.getCurrentStyle(ay,aw._showType).toLowerCase()!=aw._showTypeObject[aw._showType].hidden;aw._isFixed=X.style.getCurrentStyle(ay,"position").toLowerCase()=="fixed";aw._isShade=av;aw.isClickClose=at;(new X.ui.DragHandler(ay,ay.$(".wb-article-popupLayer-hd,.wb-article-dragBar"))).init();ay.$("a.wb-article-popupLayer-close,.wb-article-common-close").addEvent("click",function(az){aw.hide();az.cancelBubble=true;return false}.bind(aw)).addEvent("drag",function(az){az.cancelBubble=true})};X.ui.WinLayer.prototype={getWidth:function(){return this._wrapper.offsetWidth},getHeight:function(){return this._wrapper.offsetHeight},show:function(at,az,au){var av=this;if(!av._isShowed){var ay=av._wrapper;if(X.browser.msie&&X.browser.version<7){av._tempTop=document.documentElement.scrollTop;av._tempScroll=av._scroll.bind(av);window.addEvent("scroll",av._tempScroll)}var ax,aw;if(av._isFixed){ax=null==at||isNaN(at)?parseInt((document.documentElement.clientWidth-ay.offsetWidth)/2):at-document.documentElement.scrollLeft;aw=null==az||isNaN(az)?parseInt((document.documentElement.clientHeight-ay.offsetHeight)/2.3):az-(document.documentElement.scrollTop==0?X(document.body).scrollTop:document.documentElement.scrollTop)}else{ax=null==at||isNaN(at)?parseInt((document.documentElement.clientWidth-ay.offsetWidth)/2+document.documentElement.scrollLeft):at;aw=null==az||isNaN(az)?parseInt((document.documentElement.clientHeight-ay.offsetHeight)/2.3+Math.max(X(document.body).scrollTop,document.documentElement.scrollTop)):az}ay.style.left=ax+"px";ay.style.top=aw+"px";ay.style[av._showType]=av._showTypeObject[av._showType].show;av.onShow&&av.onShow();av._isShowed=true;au&&(av._hideTimer=setTimeout(function(){av.hide()},au*1000));av._isShade&&A.shade.show();av.keydownBindEvent=av.keydownListionEvent.bind(av);X(document).addEvent("keydown",av.keydownBindEvent);if(av.isClickClose){av.clickBindEvent=av.clickListionEvent.bind(av);X(document).addEvent("click",av.clickBindEvent)}}},hide:function(){var at=this;if(at._isShowed){at._tempScroll&&window.removeEvent("scroll",at._tempScroll);at.onHide&&at.onHide();at._isShowed=false;if(at._hideTimer){clearTimeout(at._hideTimer);at._hideTimer=null}at._isShade&&A.shade.hide();X(document).removeEvent("keydown",at.keydownBindEvent);if(at.isClickClose){X(document).removeEvent("click",at.clickBindEvent)}if(at._isDeleteNode){at._wrapper.parentNode.removeChild(at._wrapper)}else{X.style.addCss(at._wrapper,at._showType+":"+at._showTypeObject[at._showType].hidden+";left:0;top:0;")}}},_scroll:function(){var at=this;at._wrapper.style.top=parseInt(at._wrapper.style.top)+document.documentElement.scrollTop-at._tempTop;at._tempTop=document.documentElement.scrollTop},keydownListionEvent:function(au){var at=this;if(au.keyCode==27){at.hide()}},clickListionEvent:function(au){var at=this,av=au.target?au.target:event.srcElement;do{if(av.className=="dialog"){return}if(av.tagName.toUpperCase()=="BODY"||av.tagName.toUpperCase()=="HTML"){at.hide();return}av=av.parentNode}while(av.parentNode)}};(function(aC,aA){var at="NTES";var aw=at+"AnimateId",ax={};var au=aC.style.getCurrentStyle;function aG(aK,aL,aI){var aJ=aK["offset"+aL];aI=aI||"";aC.each("Width"==aL?["Left","Right"]:["Top","Bottom"],function(aM,aN){if(-1==aI.indexOf("padding")){aJ-=parseFloat(au(aK,"padding"+aN))||0}if(-1==aI.indexOf("border")){aJ-=parseFloat(au(aK,"border"+aN+"Width"))||0}if(aI.indexOf("margin")!=-1){aJ+=parseFloat(au(aK,"margin"+aN))||0}});return aJ}aC.element.width=function(){if("number"==typeof arguments[0]){return this.addCss({width:arguments[0]+"px"})}else{return aG(this.get(0),"Width",arguments[0])}};aC.element.height=function(){if("number"==typeof arguments[0]){return this.addCss({height:arguments[0]+"px"})}else{return aG(this.get(0),"Height",arguments[0])}};var av=/opacity=([^,)]*)/;var aF=/alpha\([^\)]*\)/;aC.element.opacity=function(aL){if("number"==typeof aL){return this.each(function(){if(this.style.opacity===aA){var aM=au(this,"filter")||"",aN="alpha(opacity="+aL*100+")";this.style.filter=aF.test(aM)?aM.replace(aF,aN):aN}else{this.style.opacity=aL}})}else{var aK=this.get(0),aI,aJ;if(aK.style.opacity===aA){aI=av.test(au(aK,"filter")||"")?(aI=parseFloat(RegExp.$1)/100):""}else{aI=this.style.opacity||au(aK,"opacity");aI!==""&&(aI=parseFloat(aI))}return""===aI?1:aI}};var az=/^\-{0,1}\d+(?:\.\d+)?[^\s]*$/;var ay=/^(?:width|height|opacity)$/i;var aB=/^(?:zIndex|fontWeight|opacity|zoom|lineHeight)$/;function aE(aJ){var aI=az.test(aJ)?parseFloat(aJ)||0:aJ.toLowerCase();return aI}function aD(aI,aK){var aJ=[],aL;for(aL in aK){aK[aL]=aE(aK[aL]);aI.each(function(aM){!aJ[aM]&&(aJ[aM]={});aJ[aM][aL]=ay.test(aL)?aC(this)[aL]():aE(au(this,aL))})}return aJ}aC.element.animate=function(aM,aN,aO,aP){typeof aO!=="function"&&(aO=aH[aO]);aN=aN*1000;aM=aC.style.parse(aM);var aJ=this;aJ.stop();var aL=aD(aJ,aM);"visible"==aM.visibility&&aJ.addCss({visibility:"visible"});"block"==aM.display&&aJ.addCss({display:"block"});var aK=Date.now();var aI=setInterval(function(){var aS=Date.now()-aK,aR=aS/aN,aW,aX,aV,aU,aT,aQ=aL.length;for(aU in aM){aT=-1;while(++aT<aQ){aW=aL[aT][aU];aX=aM[aU];if("number"==typeof aW&&aW!=aX){aV=aW+(aX-aW)*aO(0,1,aR);((aX>aW&&aV>aX)||(aX<aW&&aV<aX))&&(aV=aX);if(ay.test(aU)){aJ.$(aT)[aU](aV)}else{aJ.get(aT).style[aU]=aB.test(aU)?aV:aV+"px"}}}}if(aS>=aN){if(!ax[aI]){clearInterval(aI);"hidden"==aM.visibility&&aJ.addCss({visibility:"hidden"});"none"==aM.display&&aJ.addCss({display:"none"});aP&&aP();ax[aI]=true}}},13);return this.attr(aw,new Number(aI))};aC.element.stop=function(){return this.each(function(){var aJ=this[aw];if(aJ!=null){if(!ax[aJ]){clearInterval(aJ);ax[aJ]=true}try{delete this[aw]}catch(aI){}}})};var aH={linear:function(aI,aK,aJ){return aI+aK*aJ}}})(NTES);function o(av,au){if(!arguments.length){return}var at=this;at.constructor=arguments.callee;at.usernameInputElement=false;at.usernameInputElementX=false;at.usernameInputElementY=false;at.usernameInputHeight=false;at.usernameListElement=false;at._initWidth=0;at._runFuc=au;at.currentSelectIndex=-1;at.domainSelectElmentString='<div style="padding:0px; margin-top:-3px;"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td class="title" style="title" >请选择或继续输入...</td></tr><tr><td><td /></tr></tbody></table></div><div style="display: none;"></div><div id="passport_111"></div>';at.domainSelectElement=false;at.domainArray=["163.com","126.com","yeah.net","qq.com","vip.163.com","vip.126.com","188.com","gmail.com","sina.com","hotmail.com"];at.helpDivString='<div style="width:100%;" id="passport_helper_div"></div>';at.bind(av)}o.prototype={bind:function(av){var at=this;at.usernameInputElement=av;var au=W(at.usernameInputElement);at.usernameInputElementX=au.x;at.usernameInputElementY=au.y;at.handle();X(at.usernameInputElement).addEvent("focus",function(){at._initWidth=(at.usernameInputElement.offsetWidth-4);at.domainSelectElement.style.width=(at.usernameInputElement.offsetWidth-4)+"px"})},resizeFunc:function(){var av=this;var aw=document.getElementById("passportusernamelist");var au=W(av.usernameInputElement).x;var at=W(av.usernameInputElement).y;aw.style.left=au+"px";aw.style.top=(at+av.usernameInputElement.offsetHeight)+"px"},handle:function(){var au=this;if(!document.getElementById("passportusernamelist")){var at=document.createElement("DIV");at.id="passportusernamelist";at.className="wb-article-domainSelector";at.style.position="absolute";at.style.display="none";document.body.appendChild(at);at.innerHTML=au.domainSelectElmentString}au.domainSelectElement=document.getElementById("passportusernamelist");au.usernameListElement=au.domainSelectElement.firstChild.firstChild.rows[1].firstChild;au.currentSelectIndex=0;au.usernameInputElement.onblur=function(){au.doSelect.call(au)};try{this.usernameInputElement.addEventListener("keypress",au.keypressProc.bind(au),false);this.usernameInputElement.addEventListener("keyup",au.keyupProc.bind(au),false)}catch(av){try{this.usernameInputElement.attachEvent("onkeydown",au.checkKeyDown.bind(au));this.usernameInputElement.attachEvent("onkeypress",au.keypressProc.bind(au));this.usernameInputElement.attachEvent("onkeyup",au.keyupProc.bind(au))}catch(av){}}au.resizeFunc();if(navigator.userAgent.indexOf("MSIE")>0){window.attachEvent("onresize",function(){au.resizeFunc()})}else{window.onresize=au.resizeFunc()}},preventEvent:function(at){at.cancelBubble=true;at.returnValue=false;if(at.preventDefault){at.preventDefault()}if(at.stopPropagation){at.stopPropagation()}},checkKeyDown:function(au){var at=this;var av=au.keyCode;if(av==38||av==40){at.clearFocus();if(av==38){at.upSelectIndex()}else{at.downSelectIndex()}at.setFocus()}},keyupProc:function(av){var au=this;var aw=av.keyCode;au.changeUsernameSelect();if(aw==13){au.doSelect()}var at;if((at=navigator.userAgent.indexOf("Safari"))>0){if(aw==38||aw==40){au.preventEvent(av);au.clearFocus();if(aw==38){au.upSelectIndex()}else{au.downSelectIndex()}au.setFocus()}}},keypressProc:function(au){var at=this;var av=au.keyCode;if(av==13){at.preventEvent(au)}else{if(av==38||av==40){at.clearFocus();if(av==38){at.upSelectIndex()}else{at.downSelectIndex()}at.setFocus()}else{at.changeUsernameSelect()}}},clearFocus:function(au){var av=this;var au=av.currentSelectIndex;try{var at=av.findTdElement(au);at.style.backgroundColor="white"}catch(aw){}},findTdElement:function(au){var aw=this;try{var at=aw.usernameListElement.firstChild.rows;for(var av=0;av<at.length;++av){if(at[av].firstChild.idx==au){return at[av].firstChild}}}catch(ax){}return false},upSelectIndex:function(){var aw=this;var au=aw.currentSelectIndex;if(aw.usernameListElement.firstChild==null){return}var at=aw.usernameListElement.firstChild.rows;var av;for(av=0;av<at.length;++av){if(at[av].firstChild.idx==au){break}}if(av==0){aw.currentSelectIndex=(at.length-1)}else{aw.currentSelectIndex=at[av-1].firstChild.idx}},downSelectIndex:function(){var aw=this;var au=aw.currentSelectIndex;if(aw.usernameListElement.firstChild==null){return}var at=aw.usernameListElement.firstChild.rows;var av=0;for(;av<at.length;++av){if(at[av].firstChild.idx==au){break}}if(av>=at.length-1){aw.currentSelectIndex=at[0].firstChild.idx}else{aw.currentSelectIndex=at[av+1].firstChild.idx}},setFocus:function(){var av=this;var au=av.currentSelectIndex;try{var at=av.findTdElement(au);at.style.backgroundColor="#D5F1FF"}catch(aw){}},changeUsernameSelect:function(){var aE=this;var aw=this.usernameInputElement.value;if(aw.trim()==""){this.domainSelectElement.style.display="none"}else{var ay="",aD="";var aC;if((aC=aw.indexOf("@"))<0){ay=aw;aD=""}else{ay=aw.substr(0,aC);aD=aw.substr(aC+1,aw.length)}var aA=[];if(aD==""){for(var az=0;az<this.domainArray.length;++az){aA.push(ay+"@"+this.domainArray[az])}}else{for(var az=0;az<this.domainArray.length;++az){if(this.domainArray[az].indexOf(aD)==0){aA.push(ay+"@"+this.domainArray[az])}}}if(aA.length>0){aE.resizeFunc();aE.domainSelectElement.style.zIndex="10000";aE.domainSelectElement.style.paddingRight="0";aE.domainSelectElement.style.paddingLeft="0";aE.domainSelectElement.style.paddingTop="2px";aE.domainSelectElement.style.paddingBottom="0";aE.domainSelectElement.style.backgroundColor="white";aE.domainSelectElement.style.display="block";var aF=document.createElement("TABLE");aF.cellSpacing=0;aF.cellPadding=3;var ax=document.createElement("TBODY");aF.appendChild(ax);for(var az=0;az<aA.length;++az){var aB=document.createElement("TR");var au=document.createElement("TD");au.nowrap="true";au.align="left";au.innerHTML=aA[az];au.idx=az;au.onmouseover=function(){aE.clearFocus();aE.currentSelectIndex=this.idx;aE.setFocus();this.style.cursor="hand"};au.onmouseout=function(){};au.onclick=function(){aE.doSelect()};aB.appendChild(au);ax.appendChild(aB)}aE.usernameListElement.innerHTML="";aE.usernameListElement.appendChild(aF);var at=0;for(var av=0;av<aA.length;++av){if(aA[av].length>at){at=aA[av].length}}at=at*7.4;if(at<aE._initWidth){at=aE._initWidth}aF.style.width=at+"px";this.domainSelectElement.style.width=aF.style.width;this.setFocus()}else{this.domainSelectElement.style.display="none";this.currentSelectIndex=-1}}},doSelect:function(){var au=this;au.domainSelectElement.style.display="none";if(au.usernameInputElement.value.trim()==""){return}var at=au.findTdElement(au.currentSelectIndex);if(at){au.usernameInputElement.value=at.innerHTML}au._runFuc()}};function aj(at){this.options={size:15,maxButtons:9,itemCount:0,index:1,pageCount:1};this.container=null;this._start=1;this._end=1;this.options.pageCount=Math.ceil(this.options.itemCount/this.options.size);for(var au in at){this.options[au]=at[au]}this.staticDataCollection=[]}aj.prototype={onclick:function(at){return true},_onclick:function(au){var at=this.options.index;this.options.index=au;if(this.onclick(au)!==false){this.render(this.wraperId)}else{this.options.index=at}},_calculate:function(){this.options.pageCount=parseInt(Math.ceil(this.options.itemCount/this.options.size));this.options.index=parseInt(this.options.index);if(this.options.index>this.options.pageCount){this.options.index=this.options.pageCount}if(this.options.index<1){this.options.index=1}this._start=Math.max(1,this.options.index-parseInt(this.options.maxButtons/2));this._end=Math.min(this.options.pageCount,this._start+this.options.maxButtons-1);this._start=Math.max(1,this._end-this.options.maxButtons+1)},page:function(av){this._calculate();var at=(this.index-1)*this.options.size;var au=this.index*this.options.size;return av.slice(at,au)},render:function(){return true},bind:function(){var av=this.container.getElementsByTagName("a");var au=this;for(var at=0;at<av.length;at++){av[at].onclick=function(){var aw=this.getAttribute("href");if(aw!=undefined&&aw!=""){aw=parseInt(aw.replace("javascript://",""));au._onclick(aw)}return false}}},getStaticData:function(au){var aw=[];if(this.options.size>this.staticDataCollection.length){return this.staticDataCollection}else{if(au>this.options.pageCount){return[]}else{if(au<=this.options.pageCount){for(var av=0;av<this.staticDataCollection.length;av++){for(var at=0;at<this.options.size;at++){if(av==(au-1)*this.options.size+at){aw.push(this.staticDataCollection[av])}}}return aw}}}}};function g(ax,au,aw,av){var at=this;at._wrapperId=ax;at._wrapperClass=au;at._wrapperTemplatesHtml=aw;at.wrapperElem=X(document.createElement("DIV"));at.wrapperElem.style.width=av+"px";at.wrapperElem.id=at._wrapperId;at.wrapperElem.className=at._wrapperClass;at.wrapperElem.innerHTML=at._wrapperTemplatesHtml;X(document.body).appendChild(at.wrapperElem);at.commonPopWindow=new X.ui.WinLayer(at.wrapperElem,true,"visibility",true)}g.prototype.show=function(){this.commonPopWindow.show()};g.prototype.hide=function(){this.commonPopWindow.hide()};function al(ay,aA){var ax=X.cookie.get("P_INFO");var az=ax!=""?ax.substr(0,ax.indexOf("|")):"";if(A.email!=""&&typeof A.email!="undefined"){az=A.email}var av={userNameNodeId:"loginEmail",passwordNodeId:"loginPassword",saveLoginNodeId:"saveLogin",btnNodeId:"loginBtn",btnText:ay,errorNodeId:"error",proccessingNodeId:"proccessing",registerBtnNodeId:"registerBtn",email:az,width:580,sideWidth:180,formWidth:360};var at={title:"网易微博登录",content:X.util.parseTpl(l.loginForm,av)};this.miniLoginWindow=new g("miniLoginWindow","wb-article-newdialogLayer wb-article-common",X.util.parseTpl(l.commonPopWindow,at),600);this.refer=aA;this.proccessingNode=X("#"+av.proccessingNodeId);this.errorNode=X("#"+av.errorNodeId);this.userNameNode=X("#"+av.userNameNodeId);this.passwordNode=X("#"+av.passwordNodeId);this.btnNode=X("#"+av.btnNodeId);this.saveLoginNode=X("#"+av.saveLoginNodeId);this.registerBtnNode=X("#"+av.registerBtnNodeId);var au={};au.method="op.regfrom";au.keyfrom=this.refer.keyfrom;au.sitechannel=this.refer.sitechannel;this.registerBtnNode.href=A.url.wbarticleRegister;this.registerBtnNode.addEvent("click",function(){ac(au)});var aB=this;var aw=X("#wb-article-autologin_tiparea");X("#wb-article-popLogin-remmber-chk").addEvent("mouseover",function(){aw.addCss("display:block")}).addEvent("mouseout",function(){aw.addCss("display:none")});if(az==""){X("#wb-article-login-area-hint").style.display="block"}X("#wb-article-login-area-hint").addEvent("click",function(){this.style.display="none";aB.userNameNode.focus()});aB.userNameNode.addEvent("blur",function(){if(aB.userNameNode.value.trim()==""){X("#wb-article-login-area-hint").style.display="block"}});q(aB.userNameNode,function(){var aC=aB.userNameNode.value.trim();if(aC!=""){aB.passwordNode.focus()}});q(aB.passwordNode,function(){aB.send()});new o(aB.userNameNode,function(){aB.passwordNode.focus()});this.init()}al.prototype.show=function(){this.miniLoginWindow.show()};al.prototype.hide=function(){this.miniLoginWindow.hide()};al.prototype.afterAction=function(){};al.prototype.loginOpenAction=function(){};al.prototype.showMessage=function(at){var au=this;au.errorNode.innerHTML=at;setTimeout(function(){au.errorNode.innerHTML=""},2000);au.proccessingNode.innerHTML=""};al.prototype.showProccessing=function(){this.proccessingNode.innerHTML="登录中，请稍后..."};al.prototype.send=function(){var aw=this;var ax=f(aw.userNameNode.attr("value"));var au=f(aw.passwordNode.attr("value"));if(ax==""){aw.showMessage("帐号不能为空");return}if(au==""){aw.showMessage("密码不能为空");return}aw.showProccessing();var ay={};ay.method="op.login";ay.keyfrom=aw.refer.keyfrom;ay.sitechannel=aw.refer.sitechannel;window.logintimestamp=new Date().getTime();var av=BASE64(ax),at=aw.saveLoginNode.checked?1:0;var az={url:A.url.wbarticleLogin1,param:{rnd:av,jsonp:"setLoginStatus"},callBack:function(){if(typeof loginStatus=="undefined"){return}var aB=loginStatus.split("\n"),aF=aB[0];if(aF=="200"){var aG=aB[1],aA=aB[2];var aE=new RSAKey();aE.setPublic(aA,aG);var aC=aE.encrypt(getMd5(au));var aD={url:A.url.wbarticleLogin2,param:{rcode:aC,product:"t",jsonp:"setLoginStatus",savelogin:at,username:ax},callBack:function(){if(typeof loginStatus=="undefined"){return}switch(loginStatus){case"200":var aH={url:A.url.wbarticleCheckStatus,param:{screenName:"163",timestamp:(new Date()).getTime()},callBack:function(){if(typeof shareResult=="undefined"){return}A.email=shareResult.email;switch(shareResult.status){case"1":aw.showMessage("登录成功");setTimeout(function(){aw.hide()},1000);setTimeout(function(){aw.afterAction()},2000);ac(ay);break;case"-1":aw.showMessage("发生错误，请稍后再试");break;case"-3":setTimeout(function(){aw.hide()},1000);setTimeout(function(){aw.loginOpenAction()},2000);break;case"-5":aw.showMessage("登录失败");break;default:break}}};Y(aH);break;case"420":aw.showMessage("用户名错误");break;case"460":aw.showMessage("密码错误");break;case"428":window.location.href=A.url.wbarticleLogin2+"?rcode="+aC+"&product=t&url="+window.location.href+"&savelogin="+at+"&username="+ax;break;default:aw.showMessage("登录错误次数太多，请稍后再试");break}}};Y(aD)}else{aw.showMessage("登录失败")}loginStatus&&delete loginStatus}};Y(az);return false};al.prototype.init=function(){var at=this;at.btnNode.addEvent("click",function(){at.send();return false})};function ab(ax,aw){var az=X.cookie.get("P_INFO");var au=az!=""?az.substr(0,az.indexOf("|")):"";if(A.email!=""&&typeof A.email!="undefined"){au=A.email}var at={userNameNodeId:"loginEmail",btnNodeId:"loginBtn",btnText:ax,errorNodeId:"error",proccessingNodeId:"proccessing",changeAccountNodeId:"changeAccount",email:au,width:580};var ay={title:"开通网易微博",content:X.util.parseTpl(l.openForm,at)};this.miniOpenWindow=new g("miniOpenWindow","wb-article-newdialogLayer wb-article-common",X.util.parseTpl(l.commonPopWindow,ay),600);this.refer=aw;this.proccessingNode=X("#"+at.proccessingNodeId);this.errorNode=X("#"+at.errorNodeId);this.userNameNode=X("#"+at.userNameNodeId);this.btnNode=X("#"+at.btnNodeId);this.changeAccountNode=X("#"+at.changeAccountNodeId);var av=this;q(av.userNameNode,function(){av.send()});this.init()}ab.prototype.show=function(){this.miniOpenWindow.show()};ab.prototype.hide=function(){this.miniOpenWindow.hide()};ab.prototype.showNameFormat=function(at){if(at==""){this.showMessage("昵称不能为空");return false}if(at.replace(/[\u4e00-\u9fa5]/g,"**").length>A.showNameMaxLen*2){this.showMessage("昵称不超过"+A.showNameMaxLen+"个汉字");return false}if(!A.reg.showNameReg.test(at)){this.showMessage("只能是汉字、字母或数字");return false}return true};ab.prototype.afterAction=function(){};ab.prototype.changeAccountAction=function(){};ab.prototype.showMessage=function(at){var au=this;au.errorNode.innerHTML=at;setTimeout(function(){au.errorNode.innerHTML=""},2000);au.proccessingNode.innerHTML=""};ab.prototype.showProccessing=function(){this.proccessingNode.innerHTML="开通中，请稍后..."};ab.prototype.send=function(){var au=this;if(!au.showNameFormat(f(au.userNameNode.value))){return false}au.showProccessing();var at={};at.keyfrom=au.refer.keyfrom;at.method="op.reg.nickname";at.sitechannel=au.refer.sitechannel;at.nickName=au.userNameNode.value;var av={url:A.url.wbarticleCheckNickName,param:{showName:au.userNameNode.value},callBack:function(){if(typeof shareResult=="undefined"){return}switch(shareResult.status){case 0:var aw={url:A.url.wbarticleOpenAccount,param:at,callBack:function(){if(typeof shareResult=="undefined"){return}switch(shareResult.status){case"1":au.showMessage("开通成功");setTimeout(function(){au.hide()},1000);setTimeout(function(){au.afterAction()},1500);break;case"0":au.showMessage("您已经开通微博，不能重复开通");break;case"-1":au.showMessage("开通失败");break;case"-10":au.showMessage("开通失败");break;case"3":au.showMessage("开通失败");break;default:au.showMessage("开通失败");break}}};Y(aw);break;case 1:au.showMessage("该用户昵称已存在");break;default:au.showMessage("开通失败");break}}};Y(av)};ab.prototype.init=function(){var at=this;at.btnNode.addEvent("click",function(){at.send();return false});at.changeAccountNode.addEvent("click",function(){setTimeout(function(){at.hide()},500);setTimeout(function(){at.changeAccountAction()},1000)})};function ah(au,at){this.loginWindow=new al(au,at)}function ae(au,at){this.openAccount_miniwindow=new ab(au,at)}function q(at,au){at.addEvent("keydown",function(av){var av=av||window.event;if(av.keyCode==13){av.preventDefault();au();return}})}function W(av){var au=0,at=0;while(av!=document.body&&av!=null){at+=av.offsetLeft;au+=av.offsetTop;av=av.offsetParent}return{x:at,y:au}}function U(av){if(typeof av=="undefined"){return""}if(typeof av!="object"){throw new Error("data sended to the server must be 'object'")}var au=[];for(var at in av){au.push(encodeURIComponent(at)+"="+encodeURIComponent(av[at]))}return au.join("&").replace(/%20/g,"+")}function Y(at){X.ajax.importJs(at.url+"?"+U(at.param),function(){at.callBack()},"UTF-8")}function ai(at){X.ajax.importJs(at.url,function(){at.callBack()},"UTF-8")}function f(at){return at.replace(/\s/g,"")}function D(av,at){function au(){}au.prototype=av.prototype;at.prototype=new au();at.prototype.constructor=at;at.superclass=av.prototype;if(av.prototype.constructor==Object.prototype.constructor){av.prototype.constructor=av}}function m(at,au){if(arguments.length!=2){throw new Error("the number of the args must be 2")}this.name=at;this.attribute=au}m.ensureInherit=function(){try{if(arguments.length<2){throw new Error("the length of the args must be longer than 1")}var aw=arguments[0];for(var au=1;au<arguments.length;au++){if(arguments[au].constructor!==m){throw new Error("must be 'InterFace'")}for(var at=0;at<arguments[au].attribute.length;at++){if(!aw[arguments[au].attribute[at]]){throw new Error("the methods is not conducted properly")}}}}catch(av){alert(av)}};function ac(at){var au={method:"click"};for(var av in at){au[av]=at[av]}var aw={url:A.url.auditlink,param:au,callBack:function(){}};Y(aw)}function K(aA,au,az){var av=az;var ay="";var ax=0;for(i=0;i<av;i++){var aB=aA.substring(i,i+1);var aw=aB.replace(/[^\u0000-\u007f]/g,"aa").length;if(aw==2){i++}else{ax+=1}}var at=Math.ceil(ax/2);return aA.substr(au,az+at)}function V(){var au=window.location.href,av=window.location.hash,at=au.indexOf(av);if(at!=-1&&av!=""){return au.slice(0,at)}return au}function Q(au,av){if(au.createTextRange){var at=au.createTextRange();at.move("character",av);at.select()}else{au.focus();au.setSelectionRange(av,av)}}function u(ax){if(document.selection){ax.focus();var au=document.selection.createRange();ax.select();var av=document.selection.createRange();try{au.setEndPoint("StartToStart",av);var at=au.text.length;au.collapse(false);au.select();return at}catch(aw){return ax.selectionStart}}else{return ax.selectionStart}}function J(at){return typeof at=="function"}X.util.simpleParse=function(au,at){return at?String(au).replace(/<#=(\w+)#>/g,function(av,aw){return at[aw]!=null?at[aw]:av}):au};function F(av,at){if(!arguments.length){return}var au=this;au.wrapperElem=av;au.textAreaElem=X(au.wrapperElem.$("textarea")[0]);au.sendBtnElem=X(au.wrapperElem.$(".sendinfo-btn")[0]);au.sendInfoTipElem=X(au.wrapperElem.$(".sendinfoTip")[0]);au._maxLen=326;au._maxUrlLen=256;au._urlInclude=302;au._initTip=at||"";au._isMoreLimit=false;au._isRequest=false;au._urlReg=/(http)s?:\/\/(?:[\w-]+\.?)+[\.\/\?%&=#@$(),;\[\]\-+_!:*~\w-]+/g}F.prototype={init:function(){var at=this;at.textAreaElem.value=at._initTip;at.textAreaElem.focus();at.gotoTextPos(at.textAreaElem,at._initTip);at.initTextAreaHandle();at.countTips();at.sendBtnElem.addEvent("click",at.sendInfo.bind(at))},gotoTextPos:function(ay,aA){var av=this;var ax=aA.length;var aw=new RegExp(aA,"g");var au=ay.value.search(aw);if(au==-1){var az=u(ay);var at=ay.value;ay.value=at.substring(0,az)+aA+at.substring(az,at.length);Q(ay,az+ax)}else{Q(ay,au+ax)}av.countTips()},deleteUrl:function(at){var av=this;var au=new RegExp(at,"gi");av.textAreaElem.value=av.textAreaElem.value.trim().replace(au,function(aw){return""});av.countTips()},countTips:function(){var au=this,at=au.textAreaElem.value;if(at.match(/^\s+$/)){at=""}else{at=at.replace(au._urlReg,function(ax){if(ax.length>au._maxUrlLen){return ax.substr((au._maxUrlLen-22),ax.length)}return !ax.match(/:\d+/g)?"**********************":ax});at=at.replace(/[\uFE30-\uFFA0\u2E80-\u9FFF\u3000\uac00-\ud7ff‘“”’]/g,"**")}var aw=Math.floor((au._maxLen-at.length)/2);var av=aw<0?{note:"已超出",color:"#BA2636",countnum:Math.abs(aw)}:{note:"还可以输",color:"#898989",countnum:Math.abs(aw)};if(aw<0){au._isMoreLimit=true}else{au._isMoreLimit=false}au.sendInfoTipElem.attr("innerHTML",X.util.simpleParse(l.sendInfoTip,av))},initTextAreaHandle:function(){var at=this;at.textAreaElem.addEvent("keyup",at.countTips.bind(at));at.textAreaElem.addEvent("focus",at.countTips.bind(at));at.textAreaElem.addEvent("paste",at.countTips.bind(at));at.textAreaElem.addEvent("cut",at.countTips.bind(at));at.textAreaElem.addEvent("delete",at.countTips.bind(at));at.textAreaElem.addEvent("keydown",function(au){var au=au||window.event;if(au.ctrlKey&&au.keyCode==13){au.preventDefault();at.sendInfo();return}at.countTips.call(at)})},checkTag:function(at){var av=this,au=[];au=at.match(A.reg.keyword);if(au){if(au.length==1&&(au[0]==at)){av.sendInfoTipElem.attr("innerHTML",'<em class="wb-article-red">再说点内容吧</em>');return false}else{if(au.length==2&&(f(at)==au[0]+au[1])){av.sendInfoTipElem.attr("innerHTML",'<em class="wb-article-red">再说点内容吧</em>');return false}}if(au.length>2){av.sendInfoTipElem.attr("innerHTML",'<em class="wb-article-red">最多包括2个#话题</em>');return false}}return true},sendInfo:function(){return true},textError:function(){var au=this;for(var at=0;at<3;at++){setTimeout(function(){au.textAreaElem.style.backgroundColor="#FEE9E9"},at*300+1);setTimeout(function(){au.textAreaElem.style.backgroundColor="#FFF"},at*300+151)}au.textAreaElem.focus()}};F.slide=function(aw){var av=X("#"+aw);var au=av.scrollHeight-36;av.addCss({height:"0px",overflow:"hidden"});var at={height:parseFloat(au)+"px"};setTimeout(function(){av.animate(at,0.3,"linear",function(){av.addCss({height:"",overflow:""})})},0)};D(F,aa);function aa(av,at){aa.superclass.constructor.call(this,av,at);var au=this;au.textAreaElem=X(au.wrapperElem.$("textarea")[0]);au.sendBtnElem=X(au.wrapperElem.$(".wb-article-popup-sendinfo-btn")[0]);au.sendInfoTipElem=X(au.wrapperElem.$(".wb-article-popup-note")[0])}D(aa,t);function t(ax,au,av,at,aw){t.superclass.constructor.call(this,ax,au);this.targetId=av;this.winObj=at;this.refer=aw}t.prototype.sendInfo=function(){var au=this,at=au.textAreaElem.value.trim();au.countTips();if(""===at||au._isMoreLimit){au.textError();return}if(!au.checkTag(at)){return}au.textAreaElem.blur();var av={content:at,targetId:au.targetId,isReplyToRoot:0,isRetweet:1,isReplyToIt:1};av.method="reply";for(var aw in au.refer){av[aw]=au.refer[aw]}var ax={url:A.url.wbarticleCommon,param:av,callBack:au.callBack.bind(au)};if(au._isRequest){return}au._isRequest=true;Y(ax)};t.prototype.callBack=function(){if(typeof shareResult=="undefined"){return}var at=this;switch(shareResult.status){case"1":at.textAreaElem.value="";at.sendInfoTipElem.attr("innerHTML",'<em class="wb-article-red">评论成功</em>').addCss("opacity:0");at.sendInfoTipElem.animate({opacity:1},0.3,"linear",function(){at.sendInfoTipElem.style.opacity=""});at._isRequest=false;setTimeout(function(){at.winObj.hide()},1000);break;case"-1":at.textAreaElem.value="";at.sendInfoTipElem.attr("innerHTML",'<em class="wb-article-red">评论失败</em>').addCss("opacity:0");at.sendInfoTipElem.animate({opacity:1},0.3,"linear",function(){at.sendInfoTipElem.style.opacity=""});at._isRequest=false;break;case"-3":alert("未开通帐号");break;case"-5":alert("未登录");break;default:at.textAreaElem.value="";at.sendInfoTipElem.attr("innerHTML",'<em class="wb-article-red">评论失败</em>').addCss("opacity:0");at.sendInfoTipElem.animate({opacity:1},0.3,"linear",function(){at.sendInfoTipElem.style.opacity=""});at._isRequest=false;break}};D(aa,O);function O(ax,au,av,at,aw){O.superclass.constructor.call(this,ax,au);this.targetId=av;this.winObj=at;this.refer=aw}O.prototype.sendInfo=function(){var au=this,at=au.textAreaElem.value.trim();au.countTips();if(""===at||au._isMoreLimit){au.textError();return}if(!au.checkTag(at)){return}au.textAreaElem.blur();var av={content:at,targetId:au.targetId,isReplyToRoot:0,isRetweet:2,isReplyToIt:0};av.method="retweet";for(var aw in au.refer){av[aw]=au.refer[aw]}var ax={url:A.url.wbarticleCommon,param:av,callBack:au.callBack.bind(au)};if(au._isRequest){return}au._isRequest=true;Y(ax)};O.prototype.callBack=function(){if(typeof shareResult=="undefined"){return}var at=this;switch(shareResult.status){case"1":at.textAreaElem.value="";at.sendInfoTipElem.attr("innerHTML",'<em class="wb-article-red">转发成功</em>').addCss("opacity:0");at.sendInfoTipElem.animate({opacity:1},0.3,"linear",function(){at.sendInfoTipElem.style.opacity=""});at._isRequest=false;setTimeout(function(){at.winObj.hide()},1000);break;case"-1":at.textAreaElem.value="";at.sendInfoTipElem.attr("innerHTML",'<em class="wb-article-red">转发失败</em>').addCss("opacity:0");at.sendInfoTipElem.animate({opacity:1},0.3,"linear",function(){at.sendInfoTipElem.style.opacity=""});at._isRequest=false;break;case"-3":alert("开通帐号");break;case"-5":alert("未登录");break;default:at.textAreaElem.value="";at.sendInfoTipElem.attr("innerHTML",'<em class="wb-article-red">转发失败</em>').addCss("opacity:0");at.sendInfoTipElem.animate({opacity:1},0.3,"linear",function(){at.sendInfoTipElem.style.opacity=""});at._isRequest=false;break}};D(aa,L);function L(aw,au,at,av){L.superclass.constructor.call(this,aw,au);this.winObj=at;this.refer=av}L.prototype.sendInfo=function(){var au=this,at=au.textAreaElem.value.trim();au.countTips();if(""===at||au._isMoreLimit){au.textError();return}if(!au.checkTag(at)){return}au.textAreaElem.blur();var av={content:at};av.method="ADD_BUTTER";for(var aw in au.refer){av[aw]=au.refer[aw]}var ax={url:A.url.wbarticleCommon,param:av,callBack:au.callBack.bind(au)};if(au._isRequest){return}au._isRequest=true;Y(ax)};L.prototype.callBack=function(){if(typeof shareResult=="undefined"){return}var at=this;switch(shareResult.status){case"1":at.textAreaElem.value="";at.sendInfoTipElem.attr("innerHTML",'<em class="wb-article-red">发送成功</em>').addCss("opacity:0");at.sendInfoTipElem.animate({opacity:1},0.3,"linear",function(){at.sendInfoTipElem.style.opacity=""});at._isRequest=false;setTimeout(function(){at.winObj.hide()},1000);break;case"-1":at.textAreaElem.value="";at.sendInfoTipElem.attr("innerHTML",'<em class="wb-article-red">发送失败</em>').addCss("opacity:0");at.sendInfoTipElem.animate({opacity:1},0.3,"linear",function(){at.sendInfoTipElem.style.opacity=""});at._isRequest=false;break;case"-3":alert("未开通帐号");break;case"-5":alert("未登录");break;default:at.textAreaElem.value="";at.sendInfoTipElem.attr("innerHTML",'<em class="wb-article-red">发送成功</em>').addCss("opacity:0");at.sendInfoTipElem.animate({opacity:1},0.3,"linear",function(){at.sendInfoTipElem.style.opacity=""});at._isRequest=false;break}};D(ae,N);function N(au,at){N.superclass.constructor.call(this,"开通微博并转发",at);this.openAccount_miniwindow.afterAction=function(){I(au,at)};this.openAccount_miniwindow.changeAccountAction=function(){new k(au,at)};this.openAccount_miniwindow.show()}D(ae,P);function P(au,at){P.superclass.constructor.call(this,"开通微博并评论",at);this.openAccount_miniwindow.afterAction=function(){H(au,at)};this.openAccount_miniwindow.changeAccountAction=function(){new af(au,at)};this.openAccount_miniwindow.show()}D(ae,M);function M(au,at){M.superclass.constructor.call(this,"开通微博并对TA说",at);this.openAccount_miniwindow.afterAction=function(){ak(au,at)};this.openAccount_miniwindow.changeAccountAction=function(){new C(au,at)};this.openAccount_miniwindow.show()}D(ae,T);function T(au,at,av){T.superclass.constructor.call(this,"开通微博并关注",av);this.openAccount_miniwindow.afterAction=function(){s(au,at,av)};this.openAccount_miniwindow.changeAccountAction=function(){new E(au,at,av)};this.openAccount_miniwindow.show()}D(ae,p);function p(at){var au={keyfrom:"no"};if(typeof at=="object"){for(var av in at){au[av]=at[av]}}p.superclass.constructor.call(this,"开通微博",au);this.openAccount_miniwindow.changeAccountAction=function(){new z(at)};this.openAccount_miniwindow.show()}D(ah,E);function E(au,at,av){E.superclass.constructor.call(this,"登录并关注",av);this.loginWindow.afterAction=function(){s(au,at,av)};this.loginWindow.loginOpenAction=function(){new T(au,at,av)};this.loginWindow.show()}D(ah,af);function af(au,at){af.superclass.constructor.call(this,"登录并评论",at);this.loginWindow.afterAction=function(){H(au,at)};this.loginWindow.loginOpenAction=function(){new P(au,at)};this.loginWindow.show()}D(ah,k);function k(au,at){k.superclass.constructor.call(this,"登录并转发",at);this.loginWindow.afterAction=function(){I(au,at)};this.loginWindow.loginOpenAction=function(){new N(au,at)};this.loginWindow.show()}D(ah,C);function C(au,at){C.superclass.constructor.call(this,"登录并对TA说",at);this.loginWindow.afterAction=function(){ak(au,at)};this.loginWindow.loginOpenAction=function(){new M(au,at)};this.loginWindow.show()}D(ah,z);function z(at){var au={keyfrom:"no"};if(typeof at=="object"){for(var av in at){au[av]=at[av]}}z.superclass.constructor.call(this,"登录微博",au);this.loginWindow.show()}function n(av,au){var at={btnText:"评论",width:580,boxWidth:568};var aw={title:"评论该微博",content:X.util.parseTpl(l.sendBoxWin,at)};this.comment_miniwin=new g("reply_miniwin","wb-article-newdialogLayer wb-article-common",X.util.parseTpl(l.commonPopWindow,aw),600);comment_miniwin.show();new t(X("#reply_miniwin"),"",av,comment_miniwin,au).init()}function aq(av,au){var at={btnText:"转发",width:580,boxWidth:568};var aw={title:"转发到微博",content:X.util.parseTpl(l.sendBoxWin,at)};this.retweet_miniwin=new g("retweet_miniwin","wb-article-newdialogLayer wb-article-common",X.util.parseTpl(l.commonPopWindow,aw),600);retweet_miniwin.show();new O(X("#retweet_miniwin"),"",av,retweet_miniwin,au).init()}function e(aw,au){var at={btnText:"发送",width:580,boxWidth:568};var av={title:"对Ta说",content:X.util.parseTpl(l.sendBoxWin,at)};this.say_miniwin=new g("say_miniwin","wb-article-newdialogLayer wb-article-common",X.util.parseTpl(l.commonPopWindow,av),600);say_miniwin.show();new L(X("#say_miniwin"),"@"+aw+" ",say_miniwin,au).init()}function ad(au,at,av){av.screenName=au;av.method="follow";var aw={url:A.url.wbarticleFolow,param:av,callBack:function(){if(typeof shareResult=="undefined"){return}switch(shareResult.status){case"1":X(at).addCss("wb-article-folowed");at.onclick=null;break;case"-1":alert("关注失败");break;case"-3":alert("未开通微博帐号");break;case"-5":alert("未登录");break;default:alert("关注失败");break}}};Y(aw)}function s(av,au,at){var aw={followfrom:"no",keyfrom:"no",sitechannel:"no",method:"no"};if(typeof at=="object"){for(var ax in at){aw[ax]=at[ax]}}var ay={url:A.url.wbarticleCheckStatus,param:{screenName:"163",timestamp:(new Date()).getTime()},callBack:function(){if(typeof shareResult=="undefined"){return}A.email=shareResult.email;switch(shareResult.status){case"1":ad(av,au,aw);break;case"-1":alert("发生错误，请稍后再试");break;case"-3":new T(av,au,aw);break;case"-5":new E(av,au,aw);break;default:break}}};Y(ay);return false}function I(av,at){var au={keyfrom:"no",sitechannel:"no",method:"no"};if(typeof at=="object"){for(var aw in at){au[aw]=at[aw]}}var ax={url:A.url.wbarticleCheckStatus,param:{screenName:"163",timestamp:(new Date()).getTime()},callBack:function(){if(typeof shareResult=="undefined"){return}A.email=shareResult.email;switch(shareResult.status){case"1":aq(av,au);break;case"-1":alert("发生错误，请稍后再试");break;case"-3":new N(av,au);break;case"-5":new k(av,au);break;default:break}}};Y(ax)}function H(av,at){var au={keyfrom:"no",sitechannel:"no",method:"no"};if(typeof at=="object"){for(var aw in at){au[aw]=at[aw]}}var ax={url:A.url.wbarticleCheckStatus,param:{screenName:"163",timestamp:(new Date()).getTime()},callBack:function(){if(typeof shareResult=="undefined"){return}A.email=shareResult.email;switch(shareResult.status){case"1":n(av,au);break;case"-1":alert("发生错误，请稍后再试");break;case"-3":new P(av,au);break;case"-5":new af(av,au);break;default:break}}};Y(ax)}function ak(aw,at){var au={keyfrom:"no",sitechannel:"no",method:"no"};if(typeof at=="object"){for(var av in at){au[av]=at[av]}}var ax={url:A.url.wbarticleCheckStatus,param:{screenName:"163",timestamp:(new Date()).getTime()},callBack:function(){if(typeof shareResult=="undefined"){return}A.email=shareResult.email;switch(shareResult.status){case"1":e(aw,au);break;case"-1":alert("发生错误，请稍后再试");break;case"-3":new M(aw,au);break;case"-5":new C(aw,au);break;default:break}}};Y(ax)}function ap(av,at){var au={keyfrom:"no",sitechannel:"no",method:"no"};if(typeof at=="object"){for(var aw in at){au[aw]=at[aw]}}var ax={url:A.url.wbarticleCheckStatus,param:{screenName:"163",timestamp:(new Date()).getTime()},callBack:function(){if(typeof shareResult=="undefined"){return}A.email=shareResult.email;switch(shareResult.status){case"1":av(au);break;case"-1":alert("发生错误，请稍后再试");break;case"-3":new p(au);break;case"-5":new z(au);break;default:break}}};Y(ax)}var am=new m("statusAction",["action","showAccount","showLogin"]);function v(at){m.ensureInherit(at,am);var au={url:A.url.wbarticleCheckStatus,param:{screenName:"163",timestamp:(new Date()).getTime()},callBack:function(){if(typeof shareResult=="undefined"){return}A.email=shareResult.email;switch(shareResult.status){case"1":at.action();break;case"-1":alert("发生错误，请稍后再试");break;case"-3":at.showAccount();break;case"-5":at.showLogin();break;default:break}}};Y(au)}function h(au,at){var av={url:A.url.wbarticleCommon,param:au,callBack:at.callBack.bind(at)};Y(av)}window.WbApp={};WbApp.extend=D;WbApp.ArticleSendBox=F;WbApp.CommonLoginWin=z;WbApp.CommonAccountWin=p;WbApp.checkStatus=ap;WbApp.sendContent=h;WbApp.loginWin=ah;WbApp.accountWin=ae;WbApp.checkUserStatus=v;WbApp.InterFace=m;WbApp.PagerView=aj;WbApp.crossDomainRequest=Y;WbApp.doAudit=ac;WbApp.cutString=K;WbApp.crossjsDomainRequest=ai;WbApp.simpleParse=X.util.simpleParse;WbApp.stripHash=V;WbApp.WbFollow=s;WbApp.WbRetweet=I;WbApp.WbComment=H;WbApp.WbSay=ak;l.shareWindow='<iframe id="wb-article-frame" scrolling="no" frameborder="0" width="<#=width#>" height="<#=height#>" src="<#=src#>"></iframe>';l.shareTips='<a class="wb-article-sharelink" id="<#=linkId#>" target="_self" href="javascript:void(0);"><em></em>转发到微博</a><a href="javascript:;" class="wb-article-sharenum" hidefocus="true" id="<#=numId#>" rel="nofollow"></a><div class="wb-article-sharetipswraper">   <span id="<#=tipsId#>" class="wb-article-sharetips">      <span class="wb-article-sharearrow"></span>   </span></div>';l.shareTipsSm='<a class="wb-article-sharelink" id="<#=linkId#>" target="_self" href="javascript:void(0);"><em></em>转发到微博</a><a href="javascript:;" hidefocus="true" class="wb-article-sharenum" id="<#=numId#>"></a><span class="wb-photo-share-inner">   (<span id="<#=photonumId#>" class="wb-photo-sharenum"></span>)</span>';function y(av){var at={template:"",width:400,title:"提示"};for(var aw in av){at[aw]=av[aw]}var aw={title:at.title,content:at.template};var au=new g("wb-article-showPopWindow","wb-article-newdialogLayer wb-article-common",X.util.parseTpl(l.commonPopWindow,aw),at.width+20);au.show();return au}function S(aw,au,ay){var at={height:au,src:A.url.wbarticleShare+"?"+ay,width:aw};var ax={title:"转发到网易微博",content:X.util.parseTpl(l.shareWindow,at)};var av=new g("wb-article-showPopWindow","wb-article-newdialogLayer wb-article-common",X.util.parseTpl(l.commonPopWindow,ax),aw+20);av.show();A.currentWindow=av}var B=false;function r(av){if(B){return}var au={source:"",link:""};for(var aw in av){au[aw]=av[aw]}if(typeof au.images!="undefined"){au.images=J(au.images)?au.images():au.images}if(au.link!="undefined"){au.link=J(au.link)?au.link():au.link}var at=decodeURIComponent(U(au));var ax={url:A.url.wbarticleCheckStatus,param:{screenName:"163",timestamp:(new Date()).getTime()},callBack:function(){if(typeof shareResult=="undefined"){return}B=false;A.email=shareResult.email;switch(shareResult.status){case"1":S(543,226,at);break;case"-1":alert("发生错误，请稍后再试");break;case"-3":S(543,510,at);break;case"-5":S(543,510,at);break;default:break}}};B=true;Y(ax)}function R(at){if(!X("#wb-article-frame")){return}X("#wb-article-frame").style.height=at+"px"}function ag(){if(A.currentWindow!=""){A.currentWindow.hide()}}function Z(){if(X(".wb-article-sharenum").length==0){return}X(".wb-article-sharenum").each(function(au,at){var av=parseInt(at.innerHTML);at.innerHTML=av+1})}function G(aw,av){document.domain="163.com";var au=V();var ax=au.match("[0-9a-zA-Z]+.([0-9a-zA-Z]+.)*([0-9a-zA-Z]+)/[0-9a-zA-Z/_]+[0-9a-zA-Z_]+")[0];var at="http://static.t.126.net/share/newshare/"+ax+".js";var ay={url:at,callBack:function(){var aE=window.twitteData;if(typeof aE!="undefined"){if(!X("#"+av)){return}var aA={linkId:"wb-article-sharelink",numId:"page_tweet_count",tipsId:"tweet_page_name"};X("#"+av).addCss("wb-article-sm-container");X("#"+av).innerHTML=X.util.parseTpl(l.shareTips,aA);X("#wb-article-sharelink").addEvent("click",function(){r(aw);return false});X("#page_tweet_count").innerHTML=aE.retweetcount;X("#page_tweet_count").href=aE.tweetLink+"?method=click&keyfrom=shareNum";var aF;var aH;if(aE.retweetcount==0){var aJ=document.createTextNode("快来率先转发！");aF=document.createElement("div");aF.className="wb-article-sharetipswraper-darkrow";aF.appendChild(aJ);aH=document.createElement("span");X("#page_tweet_count").href="javascript:;";X("#page_tweet_count").attr("target","_self");X("#page_tweet_count").addCss("wb-article-sharenum-cursor")}else{if(aE.retweetcount==1){var aI=document.createTextNode("转发就能留名！");aF=document.createElement("div");aF.className="wb-article-sharetipswraper-lightrow";aF.appendChild(aI);var aB=document.createElement("a");aB.innerHTML=K(aE.firstUser,0,3);aB.href=aE.firstUserUrl+"?method=click&keyfrom=share163.find.click";aB.setAttribute("rel","nofollow");aB.title=aE.firstUser;aB.target="_blank";var az=document.createTextNode(" 率先转发");aH=document.createElement("div");aH.className="wb-article-sharetipswraper-darkrow";aH.appendChild(aB);aH.appendChild(az)}else{var aD=document.createElement("a");aD.innerHTML=K(aE.lastUser,0,3);aD.href=aE.lastUserUrl+"?method=click&keyfrom=share163.gang.click";aD.setAttribute("rel","nofollow");aD.title=aE.lastUser;aD.style.textDecoration="none";aD.target="_blank";var aC=document.createTextNode(" 刚刚转发");aF=document.createElement("div");aF.className="wb-article-sharetipswraper-lightrow";aF.appendChild(aD);aF.appendChild(aC);var aB=document.createElement("a");aB.innerHTML=K(aE.firstUser,0,3);aB.href=aE.firstUserUrl+"?method=click&keyfrom=share163.find.click";aB.setAttribute("rel","nofollow");aB.title=aE.firstUser;aB.style.textDecoration="none";aB.target="_blank";var az=document.createTextNode(" 率先转发");aH=document.createElement("div");aH.className="wb-article-sharetipswraper-darkrow";aH.appendChild(aB);aH.appendChild(az)}}var aG=document.getElementById("tweet_page_name");aG.appendChild(aF);aG.appendChild(aH)}}};ai(ay)}function ao(aw,av){document.domain="163.com";var au=V();var ax=au.match("[0-9a-zA-Z]+.([0-9a-zA-Z]+.)*([0-9a-zA-Z]+)/[0-9a-zA-Z/_]+[0-9a-zA-Z_]+")[0];var at="http://static.t.126.net/share/newshare/"+ax+".js";var ay={url:at,callBack:function(){var az=window.twitteData;if(typeof az!="undefined"){if(!X("#"+av)){return}var aA={linkId:"wb-article-sharelink-sm",numId:"page_tweet_count-sm",photonumId:"photo_page_tweet_count-sm"};X("#"+av).addCss("wb-article-sm-container");X("#"+av).innerHTML=X.util.parseTpl(l.shareTipsSm,aA);X("#wb-article-sharelink-sm").addEvent("click",function(){r(aw);return false});X("#page_tweet_count-sm").innerHTML=az.retweetcount;X("#photo_page_tweet_count-sm").innerHTML=az.retweetcount;if(az.retweetcount==0){X("#page_tweet_count-sm").href="javascript:;";X("#page_tweet_count-sm").attr("target","_self");X("#page_tweet_count-sm").addCss("wb-article-sharenum-cursor");X("#photo_page_tweet_count-sm").href="javascript:;";X("#photo_page_tweet_count-sm").attr("target","_self");X("#photo_page_tweet_count-sm").addCss("wb-article-sharenum-cursor")}else{X("#page_tweet_count-sm").href=az.tweetLink+"?method=click&keyfrom=shareNum";X("#page_tweet_count-sm").removeCss("wb-article-sharenum-cursor");X("#photo_page_tweet_count-sm").href=az.tweetLink+"?method=click&keyfrom=shareNum";X("#photo_page_tweet_count-sm").removeCss("wb-article-sharenum-cursor")}}}};ai(ay)}WbApp.resizeHeight=R;WbApp.closeShareWindow=ag;WbApp.addShareCount=Z;WbApp.initShareTips=G;WbApp.initShareTipsSm=ao;WbApp.showPopWindow=r;WbApp.showCustomWindow=y;function an(aB,ay,aD,aL){if(parseInt(ay)>100){return}if(!X("#"+aB)){return}var aI={},at={};l.followIcon='   <div class="wb-article-star-list-one">      <div class="wb-article-star-list-photo">            <a href="http://t.163.com/<#=screenName#>?method=click&keyfrom=op.wz.gfo.name" title="<#=name#>" target="_blank" rel="nofollow">                 <img alt="<#=name#>" src="<#=profileImage#>" class="wb-article-thumb" />            </a>      </div>      <div class="wb-article-star-list-name">            <input type="checkbox" checked="checked" value="<#=screenName#>" id="<#=screenName#>" /><label title="<#=nameD#>" for="<#=screenName#>"><#=name#></label>      </div>      <div class="wb-article-star-list-intro" title="<#=introductionD#>">            <span><#=introduction#></span>      </div>   </div> ';l.followWraper='   <div class="wb-article-followSelected-wraper wb-article-common" style="border: 1px solid #ccc;">     <div class="wb-article-followSelected-bar"><div class="wb-article-followSelected-logo"><a href="http://t.163.com/?method=click&keyfrom=op.wz.gfo.towb" rel="nofollow" target="_blank"><em></em>网易微博</a></div> </div>     <div id="wbnewsWraper"></div>     <div class="wb-article-followSelected-title">            <span class="wb-article-followSelected-icon">达人推荐</span> <span id="pagerWraper"></span>     </div>     <div class="wb-article-followSelected-wraper-list wb-article-clearfix" id="followWraper">     </div>     <div class="wb-article-followSelected-wraper-follow">            <div class="wb-article-folloSelected-btnWraper">                    <a href="javascript:;" target="_self" class="wb-article-btnbg wb-article-commonbtn" id="followBtn"><em class="wb-article-btnbg">批量关注</em></a>                    <a href="javascript:;" target="_self" class="wb-article-btnbg wb-article-commonbtn wb-article-disabledbtn" id="followdoneBtn" style="display:none;"><em class="wb-article-btnbg">关注成功</em></a>                    <a href="http://t.163.com/?method=click&keyfrom=op.wz.gfo.towb" rel="nofollow" class="wb-article-enter" id="wbenterbtn">进入网易微博</a>                    <span class="wb-article-enter wb-article-tips" id="wberrortips" style="display:none">请勾选要关注的人</span>            </div>     </div>   </div>';l.newsWraper='   <div class="wb-article-followSelected-news">     <ul class="wb-article-followSelected-headline">         <#=headlines#>     </ul>     <ul class="wb-article-followSelected-article wb-article-followSelected-left">         <#=leftnews#>     </ul>     <ul class="wb-article-followSelected-article wb-article-followSelected-right">         <#=rightnews#>     </ul>   </div>';D(ae,aA);function aA(aP,aN,aO){aA.superclass.constructor.call(this,"开通微博并关注",aO);this.openAccount_miniwindow.afterAction=function(){az(aP,aN,aO)};this.openAccount_miniwindow.changeAccountAction=function(){new aG(aP,aN,aO)};this.openAccount_miniwindow.show()}D(ah,aG);function aG(aP,aN,aO){aG.superclass.constructor.call(this,"登录并关注",aO);this.loginWindow.afterAction=function(){az(aP,aN,aO)};this.loginWindow.loginOpenAction=function(){new aA(aP,aN,aO)};this.loginWindow.show()}function aC(aQ,aN,aO){aO.screenName=aQ;aO.method="follow";var aP={url:A.url.wbarticleFolow,param:aO,callBack:function(){if(typeof shareResult=="undefined"){return}switch(shareResult.status){case"1":aI.followbtn.style.display="none";aI.followdonebtn.style.display="inline-block";aI.timer=setTimeout(function(){if(aI.index==aI.totalPage){aI.index=1;return}else{aI.index++}aI.followbtn.style.display="inline-block";aI.followdonebtn.style.display="none";aI.pager._onclick(aI.index)},2000);break;case"-1":alert("关注失败");break;case"-3":alert("未开通微博帐号");break;case"-5":alert("未登录");break;default:alert("关注失败");break}}};if(aQ==""){aI.enter.style.display="none";aI.error.style.display="inline";setTimeout(function(){aI.enter.style.display="inline";aI.error.style.display="none"},1000);return}Y(aP)}function av(aN){if(aN){aI.followbtn.style.display="none";aI.followdonebtn.style.display="inline-block"}else{aI.followbtn.style.display="inline-block";aI.followdonebtn.style.display="none"}}function az(aS,aO,aN){var aP={followfrom:"no",keyfrom:"no",sitechannel:"no"};if(typeof aN=="object"){for(var aQ in aN){aP[aQ]=aN[aQ]}}var aR={url:A.url.wbarticleCheckStatus,param:{screenName:"163",timestamp:(new Date()).getTime()},callBack:function(){if(typeof shareResult=="undefined"){return}A.email=shareResult.email;switch(shareResult.status){case"1":aC(aS,aO,aP);break;case"-1":alert("发生错误，请稍后再试");break;case"-3":new aA(aS,aO,aP);break;case"-5":new aG(aS,aO,aP);break;default:break}}};Y(aR)}D(aj,ax);function ax(aN){ax.superclass.constructor.call(this,aN)}ax.prototype.render=function(aN){this.wraperId=aN;this.container=aN;this._calculate();var aO="";if(this.options.pageCount>1){if(this.options.index!=this.options.pageCount){aO+='<a class="wb-article-followSelected-change" hideFocus="true"  href="javascript://'+(this.options.index+1)+'" target="_self">换些看看</a>'}else{aO+='<a class="wb-article-followSelected-change" hideFocus="true" href="javascript://1" target="_self" >换些看看</a>'}}this.container.innerHTML=aO;this.bind()};function au(aQ){if(aQ.length==0){return""}var aP=[];for(var aO=0;aO<aQ.length;aO++){var aN={screenName:aQ[aO].screenName,name:K(aQ[aO].title,0,5),nameD:aQ[aO].title,profileImage:X.util.parseTpl(A.url.wbarticleOimage,{width:54,height:54,url:encodeURIComponent(aQ[aO].profileImage)}),introduction:K(aQ[aO].introduction,0,6),introductionD:aQ[aO].introduction};aP.push(X.util.parseTpl(l.followIcon,aN));at[aQ[aO].screenName]="163"}return aP}function aK(aQ){var aO=aQ.recommendTopArticle,aU=aQ.recommendArticle;if(aO.length==0&&aU.length==0){return[]}var aS=[],aN=[],aT=[];for(var aR=0;aR<aO.length;aR++){if(aR<2){var aV="nosub";if(aR==1){aV="newssub"}var aW='<li class="'+aV+'" title="'+aO[aR].title+'">'+K(aO[aR].title,0,16)+"</li>";if(aO[aR].url&&aO[aR].url!=""){aW='<li class="'+aV+'"><a href="'+aO[aR].url+'" rel="nofollow" target="_blank" title="'+aO[aR].title+'">'+K(aO[aR].title,0,16)+"</a></li>"}aS.push(aW)}}for(var aR=0;aR<aU.length;aR++){if(aR<8){var aP='<li  title="'+aU[aR].title+'">'+K(aU[aR].title,0,16)+"</li>";if(aU[aR].url&&aU[aR].url!=""){aP='<li><a href="'+aU[aR].url+'" rel="nofollow" target="_blank" title="'+aU[aR].title+'">'+K(aU[aR].title,0,16)+"</a></li>"}if(aR<4){aN.push(aP)}else{aT.push(aP)}}}return[aS.join(""),aN.join(""),aT.join("")]}var aH=6;if(typeof aD=="number"){aH=aD}function aE(aN){aI.pager=new ax({itemCount:aN.length,size:aH,maxButtons:0});aI.pager.staticDataCollection=aN;aI.pager.onclick=function(aO){aI.timer&&clearTimeout(aI.timer);var aP=this.getStaticData(aO);aI.darenWraper.innerHTML=aP.join("");aI.darenWraper.$("input").each(function(aR,aQ){if(!at[aQ.value]){aQ.checked=false}});aI.index=aO;if(aI[aI.index.toString()]){av(true);return}av(false)};aI.pager.render(aI.pagerWraper);aI.pager.onclick(1);aI.totalPage=Math.ceil(aN.length/aH)}var aJ={method:"follow",followfrom:"op.wz.gfo",keyfrom:"op.wz.gfo",sitechannel:"no"};if(typeof aL=="object"){for(var aF in aL){aJ[aF]=aL[aF]}}X("#"+aB).innerHTML=l.followWraper;aI.enter=X("#wbenterbtn");aI.error=X("#wberrortips");aI.pagerWraper=X("#pagerWraper");aI.darenWraper=X("#followWraper");aI.followbtn=X("#followBtn");aI.followdonebtn=X("#followdoneBtn");aI.newsWraper=X("#wbnewsWraper");var aw={url:X.util.parseTpl(A.url.wbarticleNewsList,{channelId:ay}),callBack:function(){if(typeof articleLinkList=="undefined"){return}var aN=aK(articleLinkList);if(aN.length==0){return}aI.newsWraper.innerHTML=X.util.parseTpl(l.newsWraper,{headlines:aN[0],leftnews:aN[1],rightnews:aN[2]});aI.newsWraper.addEvent("click",function(aP){var aO=aP.target||aP.srcElement;switch(aO.tagName.toLowerCase()){case"a":ac({method:"click",keyfrom:aJ.keyfrom+".link"});break;default:break}})}};ai(aw);var aM={url:X.util.parseTpl(A.url.wbarticleStarList,{channelId:ay}),callBack:function(){if(typeof recommendList=="undefined"){return}var aN=au(recommendList);new aE(aN);aI.darenWraper.addEvent("click",function(aP){var aO=aP.target||aP.srcElement;switch(aO.tagName.toLowerCase()){case"input":aO.checked?at[aO.value]="163":at[aO.value]=null;aI[aI.index.toString()]=null;av(false);break;default:break}});aI.followbtn.onclick=function(){var aO=[];aI.darenWraper.$("input").each(function(aQ,aP){if(aP.checked){aO.push(aP.value)}});az(aO.join(","),this,aJ);if(aO.length==0){return}aI[aI.index.toString()]="163";return false}}};ai(aM)}WbApp.createFollowSelectedHtml=an;X.ready(function(){var at=document.createElement("div");document.body.insertBefore(at,document.body.firstChild);A.shade=new ar(at)})})(NTES);